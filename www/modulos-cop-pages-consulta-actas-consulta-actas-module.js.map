{"version":3,"sources":["webpack:///./src/app/modulos/cop/components/acta-form/acta-form.component.html","webpack:///./src/app/modulos/cop/components/acta-form/acta-form.component.scss","webpack:///./src/app/modulos/cop/components/acta-form/acta-form.component.ts","webpack:///./src/app/modulos/cop/entities/acta.ts","webpack:///./src/app/modulos/cop/pages/consulta-actas/consulta-actas.module.ts","webpack:///./src/app/modulos/cop/pages/consulta-actas/consulta-actas.page.html","webpack:///./src/app/modulos/cop/pages/consulta-actas/consulta-actas.page.scss","webpack:///./src/app/modulos/cop/pages/consulta-actas/consulta-actas.page.ts"],"names":[],"mappings":"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","file":"modulos-cop-pages-consulta-actas-consulta-actas-module.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-button (click)=\\\"salir()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n        <ion-title>Acta</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n    <div *ngIf=\\\"guardando == true\\\" style=\\\"width: 320px; margin:auto; text-align: center;\\\">\\n        <h6>Guardando acta, por favor espere...</h6>\\n        <ion-spinner class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\n    </div>\\n\\n    <div [style.display]=\\\"guardando != true ? 'block':'none'\\\">\\n        <ion-item>\\n            <ion-label position=\\\"stacked\\\">Nombre del acta*</ion-label>\\n            <p style=\\\"width: 100%\\\" *ngIf=\\\"esConsulta\\\">{{nombre}}</p>\\n            <ion-input *ngIf=\\\"!esConsulta\\\" maxlength=\\\"126\\\" [(ngModel)]=\\\"nombre\\\"></ion-input>\\n        </ion-item>\\n        <ion-item>\\n            <ion-label position=\\\"stacked\\\">Descripcion</ion-label>\\n            <p style=\\\"width: 100%\\\" *ngIf=\\\"esConsulta\\\">{{descripcion}}</p>\\n            <ion-textarea *ngIf=\\\"!esConsulta\\\" maxlength=\\\"510\\\" [(ngModel)]=\\\"descripcion\\\"></ion-textarea>\\n        </ion-item>\\n        <!-- <ion-item>\\n            <ion-label position=\\\"stacked\\\">Area*</ion-label>\\n            <p style=\\\"width: 100%\\\" *ngIf=\\\"esConsulta\\\">{{area.nombre}}</p>\\n\\n            <div *ngIf=\\\"loading == true\\\">\\n                <ion-spinner slot=\\\"end\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\n            </div>\\n            <div *ngIf=\\\"areasCargadas == false\\\">\\n                <p style=\\\"color:#888;padding:25px\\\">\\n                    No fue posible cargar el listado\\n                    <a *ngIf=\\\"areasCargadas == false\\\" (click)=\\\"cargarAreas()\\\">Reintentar</a>\\n                </p>\\n            </div>\\n            <ion-select [(ngModel)]=\\\"area\\\" [disabled]=\\\"esConsulta\\\" *ngIf=\\\"!esConsulta && areasCargadas == true\\\">\\n                <ion-select-option *ngFor=\\\"let area of areasList\\\" [value]=\\\"area\\\" compareWith=\\\"id\\\">{{area.nombre}}</ion-select-option>\\n            </ion-select>\\n\\n        </ion-item> -->\\n\\n        <sm-areaSelector [areas]=\\\"areasList\\\" [(ngModel)]=\\\"area\\\" [disabled]=\\\"esConsulta\\\" appendTo=\\\"ion-modal\\\"></sm-areaSelector>\\n\\n        <input type=\\\"file\\\" #fileChooser (change)=\\\"onFileSelect(fileChooser.files)\\\" style=\\\"display: none;\\\" />\\n\\n        <ion-button expand=\\\"full\\\" (click)=\\\"openFileChooser()\\\" *ngIf=\\\"!esConsulta\\\">\\n            <ion-icon name=\\\"document\\\"></ion-icon>\\n        </ion-button>\\n        <ion-button expand=\\\"full\\\" (click)=\\\"getPicture()\\\" *ngIf=\\\"!esConsulta\\\">\\n            <ion-icon name=\\\"camera\\\"></ion-icon>\\n        </ion-button>\\n\\n        <ion-item *ngFor=\\\"let doc of archivosList;let idx = index\\\">\\n            <ion-icon slot=\\\"start\\\" name=\\\"images\\\" *ngIf=\\\"doc.ext == 'jpg' || doc.ext == 'jpeg' || doc.ext == 'png'\\\"></ion-icon>\\n            <ion-icon slot=\\\"start\\\" name=\\\"document\\\" *ngIf=\\\"doc.ext != 'jpg' && doc.ext != 'jpeg' && doc.ext != 'png'\\\"></ion-icon>\\n\\n            <ion-input [(ngModel)]=\\\"doc.alias\\\" *ngIf=\\\"!esConsulta\\\"></ion-input>\\n            <p style=\\\"width: 100%\\\" *ngIf=\\\"esConsulta\\\">{{doc.alias}}</p>\\n\\n            <ion-button slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"visualizar(doc)\\\">\\n                <ion-icon name=\\\"eye\\\"></ion-icon>\\n            </ion-button>\\n            <ion-button slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"removerDoc(doc, idx)\\\" *ngIf=\\\"!esConsulta\\\" color=\\\"medium\\\">\\n                <ion-icon name=\\\"close\\\"></ion-icon>\\n            </ion-button>\\n        </ion-item>\\n    </div>\\n\\n    <div style=\\\"height: 150px;\\\"></div>\\n    <ion-fab *ngIf=\\\"!guardando && !esConsulta\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n        <ion-fab-button (click)=\\\"guardarActa()\\\" [disabled]=\\\"nombre == null || area == null\\\">\\n            <ion-icon name=\\\"save\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvY29wL2NvbXBvbmVudHMvYWN0YS1mb3JtL2FjdGEtZm9ybS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ModalController, AlertController, LoadingController } from '@ionic/angular';\nimport { Area } from '../../../emp/entities/area';\nimport { OfflineService } from '../../../com/services/offline.service';\nimport { Acta } from '../../entities/acta';\nimport { ArchivoLocal } from '../../pages/consulta-actas/consulta-actas.page';\nimport { Util } from '../../../com/utils/util';\nimport { File as FilePlugin, FileEntry } from '@ionic-native/file/ngx';\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\n\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { MensajeUsuarioService } from '../../../com/services/mensaje-usuario.service';\nimport { ActaService } from '../../services/acta.service';\nimport { DirectorioService } from '../../../ado/services/directorio.service';\nimport { StorageService } from '../../../com/services/storage.service';\nimport { Directorio } from '../../../ado/entities/directorio';\n\n@Component({\n  selector: 'sm-actaForm',\n  templateUrl: './acta-form.component.html',\n  styleUrls: ['./acta-form.component.scss'],\n  providers: [FileOpener, FilePlugin]\n})\nexport class ActaFormComponent implements OnInit {\n\n  options: CameraOptions = {\n    quality: 75,\n    destinationType: this.camera.DestinationType.FILE_URI,\n    encodingType: this.camera.EncodingType.JPEG,\n    correctOrientation: true,\n    mediaType: this.camera.MediaType.PICTURE,\n    targetWidth: 960,\n    targetHeight: 960,\n  }\n\n\n  @ViewChild('fileChooser') fileChooser: HTMLInputElement;\n\n  archivosList: ArchivoLocal[];\n  nombre: string;\n  descripcion: string;\n  area: Area;\n  esConsulta: boolean;\n  guardando: boolean;\n  loading: boolean;\n  areasCargadas: boolean;\n\n  areasList: Area[];\n\n  constructor(\n    private loadingController: LoadingController,\n    private storageService: StorageService,\n    private dirService: DirectorioService,\n    private actaService: ActaService,\n    private msgService: MensajeUsuarioService,\n    private camera: Camera,\n    private file: FilePlugin,\n    public offlineService: OfflineService,\n    public alertController: AlertController,\n    public modalController: ModalController,\n    private fileOpener: FileOpener,\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.modalController.getTop()\n      .then(data => {\n        if (data.componentProps != null) {\n          let acta = (<any>data).componentProps.value\n          this.esConsulta = true;\n          this.nombre = acta.nombre;\n          this.descripcion = acta.descripcion;\n          this.area = acta.area;\n          acta.documentosList.forEach(doc => {\n            if (this.archivosList == null)\n              this.archivosList = [];\n\n            let arch = {\n              nombre: doc.nombre,\n              ext: Util.getExtension(doc.nombre),\n              url: null,\n              fechaCreacion: null,\n              alias: doc.nombre\n            };\n            arch['docId'] = doc.id;\n            this.archivosList.push(arch);\n          });\n        } else {\n          // this.cargarAreas();\n        }\n      });\n  }\n\n  // cargarAreas() {\n  //   this.loading = true;\n  //   this.areasCargadas = null;\n  //   this.offlineService.queryArea()\n  //     .then(resp => {\n  //       this.areasList = <any>resp['data'];\n  //       this.loading = false;\n  //       this.areasCargadas = true;\n  //     })\n  //     .catch(err => {\n  //       this.loading = false;\n  //       this.areasCargadas = false;\n  //     });\n  // }\n\n  async salir() {\n    if (this.esConsulta) {\n      this.modalController.dismiss();\n      return;\n    }\n    const alert = await this.alertController.create({\n      header: '¿Desea salir?',\n      message: 'El acta no ha sido guardada, los datos serán descartados. ¿Confirma esta acción?',\n      buttons: [{\n        text: 'Si',\n        handler: () => {\n          this.modalController.dismiss();\n        }\n      }, {\n        text: 'No',\n        role: 'cancel',\n        cssClass: 'No'\n      }]\n    });\n    await alert.present();\n  }\n\n  /* ********************** DOCUMENTOS ****************************** */\n  openFileChooser() {\n    (<any>this.fileChooser).nativeElement.click();\n  }\n\n  onFileSelect(file: FileList) {\n    Util.readBlobFile(file.item(0)).then(blob => {\n      let f = Util.blobToFile(blob, file.item(0).name);\n      this.guardarArchivoLocal(f, f.name);\n    });\n  }\n\n  getPicture() {\n    this.camera.getPicture(this.options)\n      .then(imageData => {\n        let pathFile = (<string>imageData);\n        let lastIndex = pathFile.lastIndexOf(\"/\");\n        let fileName = pathFile.substring(lastIndex + 1, pathFile.length);\n\n        let url = (<any>window).Ionic.WebView.convertFileSrc(imageData);\n        Util.dataURLtoFile(url, fileName).then(\n          file => this.guardarArchivoLocal(file, fileName)\n        );\n      });\n  }\n\n  guardarArchivoLocal(fileParam: File, fileName: string) {\n    let dirPath = this.file.dataDirectory;\n    this.file.writeFile(dirPath, fileName, fileParam, { replace: true })\n      .then(fileEntry => {\n        let fe = <FileEntry>fileEntry;\n        let dir: ArchivoLocal = {\n          nombre: fileName,\n          fechaCreacion: new Date(),\n          ext: Util.getExtension(fileName),\n          url: (<any>window).Ionic.WebView.convertFileSrc(fe.nativeURL),\n          alias: fileName.split(\".\")[0]\n        };\n        if (this.archivosList == null) {\n          this.archivosList = [];\n        }\n        this.archivosList.unshift(dir);\n      });\n  }\n\n  visualizar(doc: ArchivoLocal) {\n    let filePath = this.file.dataDirectory;\n    this.file.checkFile(filePath, doc.nombre)\n      .then(exist => {\n        return this.file.resolveDirectoryUrl(filePath)\n      })\n      .then(dirEntry => {\n        return this.file.getFile(dirEntry, doc.nombre, null);\n      })\n      .then(fileEntry => {\n        return fileEntry.file(fp => this.openFile(fileEntry, fp.type));\n      })\n      .catch(err => {\n        this.downloadFile(doc['docId'], filePath, doc.nombre);\n      });\n  }\n\n  async removerDoc(doc: ArchivoLocal, index: number) {\n    const alert = await this.alertController.create({\n      header: '¿Retirar documento?',\n      message: 'El documento ' + doc.alias + ' será retirado. ¿Confirma esta acción?',\n      buttons: [{\n        text: 'Si',\n        handler: () => {\n          let dirPath = this.file.dataDirectory;\n          this.archivosList.splice(index, 1);\n          this.file.removeFile(dirPath, doc.nombre);\n        }\n      }, {\n        text: 'No',\n        role: 'cancel',\n        cssClass: 'No'\n      }]\n    });\n    await alert.present();\n  }\n\n  downloadFile(idDocumento: string, workingPath: string, fileName) {\n    let loading = this.showLoading('Descargando archivo...');\n    this.dirService.download(idDocumento, 'cop')\n      .then(resp => {\n        var blob = new Blob([<any>resp]);\n        return this.file.writeFile(workingPath, fileName, blob, { replace: true });\n      })\n      .then((fileEntry: FileEntry) => {\n        return fileEntry.file(file => loading\n          .then(loadPop => {\n            loadPop.dismiss();\n            this.openFile(fileEntry, file.type);\n          })\n        )\n      })\n      .catch(err => {\n        loading.then(loadPop => loadPop.dismiss())\n      });\n  }\n\n  openFile(fileEntry, type: string) {\n    this.fileOpener.open(fileEntry.toURL(), type).catch(\n      err => this.msgService.showMessage({\n        tipoMensaje: 'info', mensaje: 'No ha sido posible visualizar el archivo',\n        detalle: \"No existe una aplicacion para abrir \" + fileEntry.name + \".\"\n      })\n    )\n  }\n\n  async showLoading(msg: string) {\n    const loading = await this.loadingController.create({\n      message: msg,\n      translucent: true,\n    });\n    await loading.present();\n    return loading;\n  }\n\n  /*************** PERSISTENCIA ************* */\n\n\n\n  guardarActa() {\n    let acta = new Acta();\n    acta.nombre = this.nombre;\n    acta.descripcion = this.descripcion;\n    acta.area = this.area;\n    this.guardando = true;\n    this.persistirActa(acta)\n      .then(acta => {\n        this.guardando = false;\n        this.modalController.dismiss(acta).then(\n          resp => this.msgService.showMessage({\n            tipoMensaje: 'success',\n            mensaje: 'ACTA REGISTRADA',\n            detalle: 'Se ha registrado correctamente el acta'\n          })\n        );\n      })\n      .catch(err => {\n        this.guardando = false;\n      });\n  }\n\n\n  persistirActa(acta: Acta) {\n    if (this.offlineService.getOfflineMode()) {\n      return new Promise((resolve, reject) => {\n        acta['documentos'] = this.archivosList;\n        acta.fechaElaboracion = new Date();\n        acta['hashId'] = acta.fechaElaboracion.toISOString();\n        this.storageService.guardarSyncActaCopasst(acta)\n          .then(() => {\n            resolve(acta)\n          });\n      });\n    } else {\n      return this.actaService.subirActa(acta, this.archivosList);\n    }\n  }\n\n}","import { Area } from \"../../emp/entities/area\";\nimport { Documento } from \"../../ado/entities/documento\";\n\n\nexport class Acta {\n    id: string;\n    nombre: string;\n    descripcion: string;\n    fechaElaboracion: Date;\n    area: Area;\n    documentosList: Documento[];\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConsultaActasPage } from './consulta-actas.page';\nimport { ActaFormComponent } from '../../components/acta-form/acta-form.component'\nimport { AreaSelectorModule } from '../../../com/components/area-selector/area-selector.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConsultaActasPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    AreaSelectorModule\n  ],\n  exports: [],\n  entryComponents: [ActaFormComponent],\n  declarations: [ConsultaActasPage, ActaFormComponent]\n})\nexport class ConsultaActasPageModule { }\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"navegar('/app/home')\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Actas COPASST</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content>\\n  <ion-item *ngFor=\\\"let acta of actasLocales;let idx = index\\\">\\n\\n    <ion-spinner slot=\\\"end\\\" *ngIf=\\\"acta['sync'] == true\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\n    <ion-button *ngIf=\\\"acta['sync'] == null || acta['sync'] == false\\\" slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"sincronizar(acta, idx)\\\"\\n      color=\\\"warning\\\">\\n      <ion-icon name=\\\"cloud-upload\\\"></ion-icon>\\n    </ion-button>\\n\\n\\n    <ion-label>\\n      <h2>{{ acta.nombre }}</h2>\\n      <h3>{{ acta.area?.nombre }}</h3>\\n      <p>{{ acta.descripcion }}</p>\\n      <p>--/--/-- --:--</p>\\n    </ion-label>\\n  </ion-item>\\n\\n  <div *ngIf=\\\"loading == true\\\">\\n    <ion-spinner class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\n  </div>\\n\\n  <div *ngIf=\\\"actasCargadas == false\\\">\\n    <p style=\\\"color:#888;padding:25px\\\">\\n      No fue posible cargar las actas.\\n      <a (click)=\\\"cargarActas()\\\">Reintentar</a>\\n    </p>\\n  </div>\\n\\n  <ion-item *ngFor=\\\"let acta of actasList\\\" (click)=\\\"abrirModal(acta)\\\">\\n    <ion-label>\\n      <h2>{{ acta.nombre }}</h2>\\n      <h3>{{ acta.area?.nombre }}</h3>\\n      <p>{{ acta.descripcion }}</p>\\n      <p>{{ acta.fechaElaboracion | date: 'dd/MM/yyyy HH:mm' }}</p>\\n    </ion-label>\\n  </ion-item>\\n  <div style=\\\"height: 75px;\\\"></div>\\n\\n  <ion-fab *ngIf=\\\"loading == false\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button *ngIf=\\\"visibleAdd\\\" (click)=\\\"abrirDlgForm()\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvY29wL3BhZ2VzL2NvbnN1bHRhLWFjdGFzL2NvbnN1bHRhLWFjdGFzLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\n\nimport { Router } from '@angular/router';\nimport { Directorio } from '../../../ado/entities/directorio';\nimport { OfflineService } from '../../../com/services/offline.service';\nimport { DirectorioService } from '../../../ado/services/directorio.service';\n\nimport { File as FilePlugin, FileEntry } from '@ionic-native/file/ngx';\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { ModalController } from '@ionic/angular';\nimport { ActaFormComponent } from '../../components/acta-form/acta-form.component';\nimport { FilterQuery } from '../../../com/entities/filter-query';\nimport { Acta } from '../../entities/acta';\nimport { StorageService } from '../../../com/services/storage.service';\nimport { ActaService } from '../../services/acta.service';\nimport { MensajeUsuarioService } from '../../../com/services/mensaje-usuario.service';\n\n@Component({\n  selector: 'sm-consultaActas',\n  templateUrl: './consulta-actas.page.html',\n  styleUrls: ['./consulta-actas.page.scss'],\n  providers: [\n    OfflineService,\n    DirectorioService,\n    FileOpener,\n    FilePlugin,\n    Camera,\n  ]\n})\nexport class ConsultaActasPage implements OnInit {\n\n  options: CameraOptions = {\n    quality: 75,\n    destinationType: this.camera.DestinationType.FILE_URI,\n    encodingType: this.camera.EncodingType.JPEG,\n    correctOrientation: true,\n    mediaType: this.camera.MediaType.PICTURE,\n    targetWidth: 960,\n    targetHeight: 960,\n  }\n\n  actasList: Acta[];\n  actasLocales: Acta[];\n  loading: boolean;\n  actasCargadas: boolean;\n\n  visibleAdd: boolean;\n\n  constructor(\n    private msgService: MensajeUsuarioService,\n    private actaService: ActaService,\n    private storageService: StorageService,\n    private modalController: ModalController,\n    private camera: Camera,\n    public offlineService: OfflineService,\n    private router: Router,\n  ) {\n\n  }\n\n  ngOnInit() {\n    let permMap: any = this.offlineService.sessionService.getPermisosMap();\n    this.visibleAdd = (permMap['COP_POST_ACT'] != null && permMap['COP_POST_ACT'].valido == true) && (permMap['COP_POST_DOCACT'] != null && permMap['COP_POST_DOCACT'].valido == true);\n    this.storageService.getSyncActasCopasst()\n      .then(resp => {\n        this.actasLocales = resp['data']\n      });\n    this.cargarActas();\n  }\n\n  cargarActas() {\n    this.loading = true;\n    this.actasCargadas = null;\n    this.offlineService.queryActasCopasst()\n      .then(resp => {\n        this.actasList = [];\n        (<any[]>resp['data']).forEach(dto => {\n          this.actasList.push(FilterQuery.dtoToObject(dto));\n        });\n        this.loading = false;\n        this.actasCargadas = true;\n      })\n      .catch(err => {\n        this.loading = false;\n        this.actasCargadas = false;\n      });\n  }\n\n  async abrirDlgForm() {\n    const modal = await this.modalController.create({\n      component: ActaFormComponent,\n      cssClass: \"modal-fullscreen\"\n    });\n    modal.onDidDismiss().then(\n      resp => this.onModalDismiss(<Acta>resp.data)\n    );\n    return await modal.present();\n  }\n\n  onModalDismiss(acta: Acta) {\n    if (acta == null) {\n      return;\n    }\n    if (acta.id == null) {\n      this.actasLocales.unshift(acta);\n    } else {\n      this.actasList.unshift(acta);\n    }\n  }\n\n  async abrirModal(acta) {\n    const modal = await this.modalController.create({\n      component: ActaFormComponent,\n      componentProps: { value: acta },\n    });\n    return await modal.present();\n  }\n\n  navegar(url) {\n    this.router.navigate([url])\n  }\n\n  sincronizar(acta: Acta, idx: number) {\n    acta['sync'] = true;\n    this.actaService.subirActa(acta, acta['documentos'])\n      .then((resp: Acta) => {\n        acta['sync'] = false;\n        // Retira del listado de actas por sincronizar\n        this.actasLocales.splice(idx, 1);\n        this.storageService.borrarSyncActasCopasst(acta);\n        // Adiciona el acta al listado de actas creadas y si está en modo offline la adiciona en el espacio local\n        this.actasList.unshift(resp);\n        if (this.offlineService.getOfflineMode())\n          this.storageService.setActasCopasst([resp]);\n        // Despliega mensaje de confirmación\n        this.msgService.showMessage({\n          tipoMensaje: 'success', mensaje: 'ACTA SINCRONIZADA',\n          detalle: \"Se ha sincronizado correctamente el acta  \" + acta.nombre\n        });\n      })\n      .catch(err => {\n        acta['sync'] = false;\n      });\n  }\n}\n\n\n\nexport interface ArchivoLocal {\n  documentoId?: string;\n  nombre: string,\n  fechaCreacion: Date,\n  ext: string,\n  url: string,\n  alias?: string;\n  descripcion?: string;\n}"],"sourceRoot":""}