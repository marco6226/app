{"version":3,"sources":["webpack:///./src/app/ayuda/ayuda.module.ts","webpack:///./src/app/ayuda/ayuda.page.html","webpack:///./src/app/ayuda/ayuda.page.scss","webpack:///./src/app/ayuda/ayuda.page.ts"],"names":[],"mappings":"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","file":"ayuda-ayuda-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { AyudaPage } from './ayuda.page';\nimport { ComunModule } from '../modulos/com/comun.module';\n\n@NgModule({\n  imports: [\n    ComunModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: AyudaPage\n      }\n    ])\n  ],\n  exports:[ComunModule],\n  declarations: [AyudaPage]\n})\nexport class AyudaPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"navegar('/app/home')\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>\\n      MANUALES\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngIf=\\\"loading == true\\\">\\n    <ion-spinner class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\n  </div>\\n\\n  <div *ngIf=\\\"cargaExitosa == false\\\">\\n    <p style=\\\"color:#888;padding:25px\\\">\\n      No fue posible cargar los manuales.\\n      <a (click)=\\\"cargarManuales()\\\">Reintentar</a>\\n    </p>\\n  </div>\\n\\n  <ion-list *ngIf=\\\"cargaExitosa == true\\\">\\n    <ion-item button *ngFor=\\\"let man of manuales;\\\" (click)=\\\"abrir(man)\\\">\\n      <ion-icon slot=\\\"start\\\" [name]=\\\"man.tipo == 'mp4' || man.tipo == 'webm' ? 'videocam' : 'book'\\\"></ion-icon>\\n      <div style=\\\"width: 100%;font-size: 14px;\\\">\\n        <h4>{{man.nombre}}</h4>\\n        <p>{{man.descripcion}}</p>\\n      </div>\\n    </ion-item>\\n  </ion-list>\\n\\n</ion-content>\\n\\n<div class=\\\"modal\\\" *ngIf=\\\"rutaVideo != null\\\">\\n  <div class=\\\"content\\\">\\n    <video controls=\\\"controls\\\" preload=\\\"metadata\\\" autoplay=\\\"autoplay\\\" class=\\\"videoPlayer\\\" controlsList=\\\"nodownload\\\">\\n      <source [src]=\\\"rutaVideo | safeBypass:'resourceUrl'\\\" type=\\\"video/mp4\\\" />\\n    </video>\\n  </div>\\n</div>\\n\\n<ion-footer color=\\\"light\\\" *ngIf=\\\"rutaVideo == null\\\">\\n  <ion-item button (click)=\\\"actualizar()\\\" *ngIf=\\\"versionDisponible != version\\\">\\n    <ion-icon slot=\\\"start\\\" name=\\\"arrow-round-up\\\" color=\\\"primary\\\"></ion-icon>\\n    <div style=\\\"width: 100%;font-size: 14px;\\\">\\n      <p style=\\\"float: left;color:#3ba2dc\\\">Versi√≥n {{versionDisponible}} disponible</p>\\n      <p style=\\\"float: right;color:#aaa;\\\">v{{version}}</p>\\n    </div>\\n  </ion-item>\\n  <ion-item *ngIf=\\\"versionDisponible == version\\\">\\n    <div style=\\\"width: 100%;font-size: 14px;\\\">\\n      <p style=\\\"float: right;color:#aaa;\\\">v{{version}}</p>\\n    </div>\\n  </ion-item>\\n</ion-footer>\"","module.exports = \".videoPlayer {\\n  width: 100%;\\n  height: 100%; }\\n\\n.modal {\\n  position: fixed;\\n  top: 0px;\\n  left: 0px;\\n  width: 100%;\\n  height: 100%;\\n  background-color: #333333AA; }\\n\\n.modal .content {\\n  background-color: transparent;\\n  width: 90%;\\n  height: calc(100% - 80px);\\n  margin-top: 70px;\\n  margin-left: 5%;\\n  margin-bottom: 10px;\\n  margin-right: 5%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N0YWxrZXIvRGVza3RvcC8xbWlsbG9uL2Zyb250ZW5kL3NpZ2Vzc19hcHAvc3JjL2FwcC9heXVkYS9heXVkYS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFXO0VBQ1gsWUFBWSxFQUFBOztBQUdoQjtFQUNJLGVBQWU7RUFDZixRQUFRO0VBQ1IsU0FBUztFQUNULFdBQVc7RUFDWCxZQUFZO0VBQ1osMkJBQTJCLEVBQUE7O0FBRy9CO0VBQ0ksNkJBQTZCO0VBQzdCLFVBQVU7RUFDVix5QkFBeUI7RUFDekIsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixtQkFBbUI7RUFDbkIsZ0JBQWdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9heXVkYS9heXVkYS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudmlkZW9QbGF5ZXJ7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xufVxuXG4ubW9kYWx7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMHB4O1xuICAgIGxlZnQ6IDBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzM0FBO1xufVxuXG4ubW9kYWwgLmNvbnRlbnR7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgd2lkdGg6IDkwJTtcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDgwcHgpO1xuICAgIG1hcmdpbi10b3A6IDcwcHg7XG4gICAgbWFyZ2luLWxlZnQ6IDUlO1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgbWFyZ2luLXJpZ2h0OiA1JTtcbn0iXX0= */\"","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { SesionService } from '../modulos/com/services/sesion.service';\nimport { Market } from '@ionic-native/market/ngx';\nimport { ManualService } from '../modulos/com/services/manual.service';\nimport { Manual } from '../modulos/com/entities/manual';\nimport { LoadingController } from '@ionic/angular';\nimport { File as FilePlugin, FileEntry } from '@ionic-native/file/ngx';\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\nimport { MensajeUsuarioService } from '../modulos/com/services/mensaje-usuario.service';\nimport { AuthService } from '../modulos/com/services/auth.service';\nimport { OfflineService } from '../modulos/com/services/offline.service';\n\n@Component({\n  selector: 'sm-ayuda',\n  templateUrl: 'ayuda.page.html',\n  styleUrls: ['ayuda.page.scss'],\n  providers: [Market, ManualService, FilePlugin, FileOpener]\n})\nexport class AyudaPage {\n\n  manuales: Manual;\n  loading: boolean;\n  cargaExitosa: boolean;\n  rutaVideo: string;\n\n  version: string;\n  versionDisponible: string;\n\n  constructor(\n    public offlineService: OfflineService,\n    public authService: AuthService,\n    public msgService: MensajeUsuarioService,\n    public file: FilePlugin,\n    public fileOpener: FileOpener,\n    public loadingController: LoadingController,\n    public sessionService: SesionService,\n    public router: Router,\n    public manualService: ManualService,\n    public market: Market\n  ) {\n    this.authService.consultarUpdateDisponible()\n      .then(resp => {\n        this.version = resp['versionActual'];\n        this.versionDisponible = resp['versionDisponible'];\n      });\n    this.cargarManuales();\n  }\n\n  cargarManuales() {\n    this.loading = true;\n    this.cargaExitosa = null;\n    this.offlineService.queryManualesPorUsuario()\n      .then((resp: any) => {\n        this.manuales = resp.data;\n        this.loading = false;\n        this.cargaExitosa = true;\n      })\n      .catch(err => {\n        this.loading = false;\n        this.cargaExitosa = false;\n      });\n\n  }\n\n  navegar(url) {\n    if (this.rutaVideo == null) {\n      this.router.navigate([url])\n    } else {\n      this.rutaVideo = null;\n    }\n  }\n\n  abrir(man: Manual) {\n    this.rutaVideo = null;\n    let workingPath = this.file.dataDirectory;\n    let fileName = man.id + \"_\" + man.codigo + \".\" + man.tipo;\n    let loading = this.showLoading('Accediendo al manual...');\n\n    let codManAnt = localStorage.getItem('man_' + man.id);\n    if (man.codigo != codManAnt) {\n      let oldFileName = man.id + \"_\" + codManAnt + \".\" + man.tipo;\n      this.file.removeFile(workingPath, oldFileName)\n        .then(() => {\n          this.descargarManual(man, workingPath, fileName, loading);\n        })\n        .catch(err => {\n          this.descargarManual(man, workingPath, fileName, loading);\n        });\n    } else {\n      this.file.checkFile(workingPath, fileName)\n        .then(exist => {\n          return this.file.resolveDirectoryUrl(workingPath)\n        })\n        .then(dirEntry => {\n          return this.file.getFile(dirEntry, fileName, null);\n        })\n        .then(fileEntry => {\n          return fileEntry.file(fp => {\n            loading.then(loadPop => {\n              loadPop.dismiss();\n              this.openFile(man, fileEntry, fp.type)\n            });\n          });\n        })\n        .catch(err => {\n          this.descargarManual(man, workingPath, fileName, loading);\n        });\n    }\n  }\n\n  descargarManual(man: Manual, workingPath: string, fileName: string, loading: any) {\n    this.manualService.descargar(man)\n      .then(resp => {\n        var blob = new Blob([<any>resp]);\n        return this.file.writeFile(workingPath, fileName, blob, { replace: true });\n      })\n      .then((fileEntry: FileEntry) => {\n        return fileEntry.file(file => {\n          loading.then(loadPop => {\n            loadPop.dismiss();\n            localStorage.setItem('man_' + man.id, man.codigo);\n            this.openFile(man, fileEntry, file.type);\n          });\n        })\n      })\n      .catch(err => {\n        loading.then(loadPop => loadPop.dismiss())\n      })\n  }\n\n  openFile(man: Manual, fileEntry, type: string) {\n    if (man.tipo == 'mp4' || man.tipo == 'webm') {\n      this.rutaVideo = (<any>window).Ionic.WebView.convertFileSrc(fileEntry.toURL());\n    } else {\n      this.fileOpener.open(fileEntry.toURL(), type).catch(\n        err => this.msgService.showMessage({\n          tipoMensaje: 'info', mensaje: 'No ha sido posible visualizar el manual',\n          detalle: \"No existe una aplicacion para abrir \" + fileEntry.name + \".\"\n        })\n      )\n    }\n\n  }\n\n  async showLoading(msg: string) {\n    const loading = await this.loadingController.create({\n      message: msg,\n      translucent: true,\n    });\n    await loading.present();\n    return loading;\n  }\n\n  actualizar() {\n    let so = localStorage.getItem('plataforma');\n    if (so == 'android') {\n      this.market.open('co.sigess.app');\n    } else if (so == 'ios') {\n      this.market.open('1473016574');\n    } else {\n      alert(\"Plataforma no detectada\");\n    }\n  }\n\n}\n"],"sourceRoot":""}