{"version":3,"sources":["webpack:///./src/app/modulos/sec/pages/consulta-tareas/consulta-tareas.module.ts","webpack:///./src/app/modulos/sec/pages/consulta-tareas/consulta-tareas.page.html","webpack:///./src/app/modulos/sec/pages/consulta-tareas/consulta-tareas.page.scss","webpack:///./src/app/modulos/sec/pages/consulta-tareas/consulta-tareas.page.ts","webpack:///./src/app/modulos/sec/services/tarea.service.ts"],"names":[],"mappings":"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","file":"modulos-sec-pages-consulta-tareas-consulta-tareas-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ComunModule } from '../../../com/comun.module'\nimport { IonicModule } from '@ionic/angular';\nimport { ConsultaTareasPage } from './consulta-tareas.page';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConsultaTareasPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  exports: [ComunModule],\n  providers: [],\n  entryComponents: [],\n  declarations: [\n    ConsultaTareasPage\n  ]\n})\nexport class ConsultaTareasPageModule {\n\n}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"navegar('/app/sec/secInicio')\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Actividades asignadas</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div>\\n    <ion-spinner slot=\\\"start\\\" class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\" *ngIf=\\\"loading == true\\\"></ion-spinner>\\n  </div>\\n\\n  <ion-card *ngFor=\\\"let tarea of tareasList; let i = index\\\">\\n    <ion-card-header>\\n      <ion-card-subtitle>\\n        <div class=\\\"cabecera\\\">\\n          <ion-badge [ngClass]=\\\"{\\n            'nueva':tarea.estado == 'NUEVO', \\n            'realizada':tarea.estado == 'REALIZADA', \\n            'finalizada':tarea.estado == 'FINALIZADA'\\n          }\\\">{{tarea.estado}}</ion-badge>\\n        </div>\\n\\n        <p class=\\\"tarea-nombre\\\">\\n          {{tarea.nombre}}\\n        </p>\\n      </ion-card-subtitle>\\n    </ion-card-header>\\n\\n    <ion-card-content>\\n      <strong>Tipo de acción:</strong>\\n      <p>{{tarea.tipoAccion}}</p>\\n      <strong>Descripción:</strong>\\n      <p>{{tarea.descripcion}}</p>\\n      <strong>Fecha proyectada:</strong>\\n      <p>{{tarea.fechaProyectada | date:'dd-MMM-yyyy'}}</p>\\n      <strong>{{tarea.areaResponsable?.tipoArea.nombre}}:</strong>\\n      <p>{{tarea.areaResponsable?.nombre}}</p>\\n      <strong *ngIf=\\\"tarea.usuarioRealiza?.email != null\\\">Usuario realiza:</strong>\\n      <p *ngIf=\\\"tarea.usuarioRealiza?.email != null\\\">{{tarea.usuarioRealiza.email}} - {{tarea.fechaRealizacion | date:'dd/MMM/yyyy'}}</p>\\n      <strong *ngIf=\\\"tarea.usuarioRealiza?.email != null\\\">Observaciones usuario realiza:</strong>\\n      <p *ngIf=\\\"tarea.usuarioRealiza?.email != null\\\">{{tarea.observacionesRealizacion}}</p>\\n      <strong *ngIf=\\\"tarea.usuarioVerifica?.email != null\\\">Usuario verifica:</strong>\\n      <p *ngIf=\\\"tarea.usuarioVerifica?.email != null\\\">{{tarea.usuarioVerifica.email}} - {{tarea.fechaVerificacion | date:'dd/MMM/yyyy'}}</p>\\n      <strong *ngIf=\\\"tarea.usuarioVerifica?.email != null\\\">Observaciones usuario verifica:</strong>\\n      <p *ngIf=\\\"tarea.usuarioVerifica?.email != null\\\">{{tarea.observacionesVerificacion}}</p>\\n\\n      <ion-item *ngIf=\\\"tarea.estado == 'NUEVO' || tarea.estado == 'REALIZADA'\\\">\\n        <ion-label *ngIf=\\\"tarea.estado == 'NUEVO'\\\" position=\\\"stacked\\\">Reportar cumplimiento</ion-label>\\n        <ion-label *ngIf=\\\"tarea.estado == 'REALIZADA'\\\" position=\\\"stacked\\\">Reportar verificación</ion-label>\\n\\n        <ion-textarea style=\\\"flex: 50%;\\\" *ngIf=\\\"tarea.estado == 'NUEVO' && (tarea['loading'] == null || tarea['loading'] == false)\\\"\\n          [(ngModel)]=\\\"tarea.observacionesRealizacion\\\" placeholder=\\\"Comentarios\\\" maxlength=\\\"510\\\"></ion-textarea>\\n\\n        <ion-textarea style=\\\"flex: 50%;\\\" *ngIf=\\\"tarea.estado == 'REALIZADA' && (tarea['loading'] == null || tarea['loading'] == false)\\\"\\n          [(ngModel)]=\\\"tarea.observacionesVerificacion\\\" placeholder=\\\"Comentarios\\\" maxlength=\\\"510\\\"></ion-textarea>\\n\\n        <div>\\n          <ion-button slot=\\\"end\\\" fill=\\\"clear\\\" *ngIf=\\\"tarea.estado == 'NUEVO' && (tarea['loading'] == null || tarea['loading'] == false)\\\"\\n            (click)=\\\"abrirDlg(tarea, i, true)\\\">\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"checkmark-circle\\\"></ion-icon>\\n          </ion-button>\\n\\n          <ion-button slot=\\\"end\\\" fill=\\\"clear\\\" *ngIf=\\\"tarea.estado == 'REALIZADA' && (tarea['loading'] == null || tarea['loading'] == false)\\\"\\n            (click)=\\\"abrirDlg(tarea, i, false)\\\">\\n            <ion-icon name=\\\"thumbs-up\\\"></ion-icon>\\n          </ion-button>\\n\\n          <ion-spinner slot=\\\"end\\\" class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\" *ngIf=\\\"tarea['loading'] == true\\\"></ion-spinner>\\n        </div>\\n      </ion-item>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\"","module.exports = \".cabecera {\\n  display: flex;\\n  align-items: center; }\\n\\n.realizada {\\n  background-color: #ffaa00; }\\n\\n.nueva {\\n  background-color: #ff0000; }\\n\\n.finalizada {\\n  background-color: #00AA00; }\\n\\n.tarea-nombre {\\n  color: #333; }\\n\\nstrong {\\n  color: #333; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N0YWxrZXIvRGVza3RvcC8xbWlsbG9uL2Zyb250ZW5kL3NpZ2Vzc19hcHAvc3JjL2FwcC9tb2R1bG9zL3NlYy9wYWdlcy9jb25zdWx0YS10YXJlYXMvY29uc3VsdGEtdGFyZWFzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQWE7RUFDYixtQkFBbUIsRUFBQTs7QUFFdkI7RUFDSSx5QkFBeUIsRUFBQTs7QUFFN0I7RUFDSSx5QkFBeUIsRUFBQTs7QUFFN0I7RUFDSSx5QkFBeUIsRUFBQTs7QUFFN0I7RUFDSSxXQUFXLEVBQUE7O0FBR2Y7RUFDSSxXQUFVLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tb2R1bG9zL3NlYy9wYWdlcy9jb25zdWx0YS10YXJlYXMvY29uc3VsdGEtdGFyZWFzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYWJlY2VyYXtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4ucmVhbGl6YWRhe1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmFhMDA7XG59XG4ubnVldmF7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmMDAwMDtcbn1cbi5maW5hbGl6YWRhe1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMEFBMDA7XG59XG4udGFyZWEtbm9tYnJle1xuICAgIGNvbG9yOiAjMzMzO1xufVxuXG5zdHJvbmd7XG4gICAgY29sb3I6IzMzMztcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { SesionService } from '../../../com/services/sesion.service';\nimport { FilterQuery } from '../../../com/entities/filter-query';\nimport { TareaService } from '../../services/tarea.service';\nimport { Tarea } from '../../entities/tarea';\nimport { Criteria } from '../../../com/entities/filter';\nimport { AlertController } from '@ionic/angular';\nimport { MensajeUsuarioService } from '../../../com/services/mensaje-usuario.service';\nimport { ReporteObservacionPage } from '../../../auc/pages/reporte-observacion/reporte-observacion.page';\n\n@Component({\n  selector: 'sm-consultaTareas',\n  templateUrl: './consulta-tareas.page.html',\n  styleUrls: ['./consulta-tareas.page.scss'],\n  providers: [TareaService]\n})\nexport class ConsultaTareasPage implements OnInit {\n\n  loading: boolean = true;\n  tareasList: Tarea[];\n\n  constructor(\n    private msgService: MensajeUsuarioService,\n    private alertController: AlertController,\n    private tareaService: TareaService,\n    private sesionService: SesionService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    let areas: string = this.sesionService.getPermisosMap()['SEC_GET_TAR'].areas;\n    let fq = new FilterQuery();\n    fq.fieldList = [\n      'id', 'nombre', 'descripcion', 'observacionesRealizacion', 'tipoAccion', 'usuarioRealiza_id',\n      'estado', 'fechaProyectada', 'fechaRealizacion', 'usuarioRealiza_email', 'areaResponsable_id',\n      'areaResponsable_nombre', 'areaResponsable_tipoArea_nombre'\n    ]\n    fq.filterList = [\n      { field: 'areaResponsable.id', value1: areas, criteria: Criteria.CONTAINS },\n      { field: 'estado', value1: 'FINALIZADA', criteria: Criteria.NOT_EQUALS }\n    ];\n\n    this.tareaService.findByFilter(fq)\n      .then(resp => {\n        this.tareasList = [];\n        (resp['data']).forEach(tarea => {\n          let obj = FilterQuery.dtoToObject(tarea);\n          this.tareasList.push(obj);\n        });\n        this.loading = false;\n      })\n      .catch(err => {\n        this.loading = false;\n      });\n  }\n\n  navegar(url) {\n    this.router.navigate([url]);\n  }\n\n  abrirDlg(tarea: Tarea, idx: number, repCump: boolean) {\n    // this.confirmarTarea(tarea, idx, repCump);\n    this.reportar(tarea, repCump, idx);\n  }\n\n  // async confirmarTarea(tarea: Tarea, idx: number, repCump: boolean) {\n  //   let accion = repCump ? 'cumplimiento' : 'verificación';\n  //   let alert = await this.alertController.create({\n  //     subHeader: 'Reporte de ' + accion + ':',\n  //     message: tarea.nombre,\n  //     inputs: [\n  //       { name: 'descripcion', type: 'text', placeholder: 'Observaciones de ' + accion }\n  //     ],\n  //     buttons: [\n  //       {\n  //         text: 'Reportar',\n  //         handler: data => this.reportar(tarea, repCump, idx, data.descripcion)\n  //       },\n  //       {\n  //         text: 'Cancel',\n  //         role: 'cancel',\n  //         cssClass: 'secondary',\n  //         handler: () => {\n  //           console.log('Confirm Cancel');\n  //         }\n  //       }\n  //     ]\n  //   }).;\n  //   await alert.present();\n  // }\n\n  reportar(tarea: Tarea, repCump: boolean, idx: number): any {\n    tarea['loading'] = true;\n    if (repCump == true) {\n      this.tareaService.reportarCumplimiento(tarea)\n        .then((resp: Tarea) => {\n          this.tareasList[idx] = resp;\n          this.msgService.showMessage({\n            mensaje: 'Reporte realizado',\n            detalle: 'El cumplimiento de la tarea fue reportado correctamente',\n            tipoMensaje: 'success'\n          });\n          tarea['loading'] = false;\n        })\n        .catch(err => {\n          tarea['loading'] = false;\n        });\n    } else {\n      this.tareaService.reportarVerificacion(tarea)\n        .then((resp: Tarea) => {\n          this.tareasList[idx] = resp;\n          this.msgService.showMessage({\n            mensaje: 'Reporte realizado',\n            detalle: 'La verificación de la tarea fue reportada correctamente',\n            tipoMensaje: 'success'\n          });\n          tarea['loading'] = false;\n        })\n        .catch(err => {\n          tarea['loading'] = false;\n        });;\n    }\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { ServiceCRUD } from '../../com/services/service-crud.service';\nimport { Tarea } from '../entities/tarea';\nimport { timeout } from 'rxjs/operators';\n\n@Injectable()\nexport class TareaService extends ServiceCRUD<Tarea>{\n\n  reportarCumplimiento(tarea: Tarea) {\n    let body = JSON.stringify(tarea);\n    return new Promise((resolve, reject) => {\n      this.httpInt.put(this.end_point + \"reportarCumplimiento\", body)\n        .pipe(timeout(this.timeout))\n        .subscribe(\n          res => resolve(res),\n          err => {\n            reject(err);\n            this.manageError(err);\n          })\n    });\n  }\n\n  reportarVerificacion(tarea: Tarea) {\n    let body = JSON.stringify(tarea);\n    return new Promise((resolve, reject) => {\n      this.httpInt.put(this.end_point + \"reportarVerificacion\", body)\n        .pipe(timeout(this.timeout))\n        .subscribe(\n          res => resolve(res),\n          err => {\n            reject(err);\n            this.manageError(err);\n          }\n        )\n    });\n  }\n\n  findByUsuario(usuarioId: string) {\n    return new Promise((resolve, reject) => {\n      this.httpInt.get(this.end_point + 'usuario/' + usuarioId)\n        .subscribe(\n          res => resolve(res),\n          err => {\n            this.manageError(err);\n            reject(err);\n          }\n        )\n    });\n  }\n\n  getClassName(): string {\n    return \"TareaService\";\n  }\n\n}"],"sourceRoot":""}