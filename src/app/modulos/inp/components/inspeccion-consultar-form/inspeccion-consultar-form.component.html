<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-button (click)="anterior()">
                <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>Consulta de inspecciones</ion-title>
    </ion-toolbar>
</ion-header>




<ion-content>
    <ion-slides pager="true">
        
       
        <ion-slide>
            
                <ion-grid>
                    <ion-row>
                        <ion-col>
                            
                                <ion-item>
                                  <ion-label class="subtitulos" color="primary">{{listaInspeccion?.nombre}}</ion-label>
                                </ion-item>
                                <ion-item style="white-space: pre-wrap !important;"> 
                                  <ion-label class="subtitulos" color="primary">{{listaInspeccion?.codigo}}</ion-label>
                                  <ion-label class="subtitulos" color="primary">Versión: {{listaInspeccion?.listaInspeccionPK.version}}</ion-label>
                                </ion-item>
                                <ion-item>
                                  <ion-label class="subtitulos" color="primary">Ubicación: {{inspeccion?.area.nombre}}</ion-label>
                
                                </ion-item>
                                <ion-item>
                                    <ion-label style="white-space: pre-wrap !important;" class="subtitulos" color="primary">{{listaInspeccion?.descripcion}}</ion-label>
                                  </ion-item>
                                  <div>
                                    <ion-list *ngIf="imagenesList?.length == 0" style="text-align: center;">
                                      <div>
                                        <ion-icon class="evidencia" name="eye-off"></ion-icon>            
                                      </div>
                                    </ion-list>
                                    
                                    <ion-list *ngIf="imagenesList.length > 0">
                                      <ion-img [src]="imagenesList[0].source[0]"></ion-img>                  
                                    </ion-list>
                                  </div> 
                                  
                                  
                                  <ion-item>
                                    <ion-label style="white-space: pre-wrap !important;" class="subtitulos" color="primary">{{inspeccion?.listaInspeccion?.formulario?.nombre}}</ion-label>
                                  </ion-item>
                               
                        </ion-col>
                    </ion-row>

                  <ion-row>
                    <ion-col>
                      <div> 
                          <ion-item *ngFor="let campos of listaInspeccion?.formulario.campoList let respuestas of inspeccion?.respuestasCampoList">
                        <ion-label style="white-space: pre-wrap !important;" class="subtitulos" color="primary">{{campos?.nombre}}</ion-label>
                    </ion-item></div>
                    </ion-col>
                    <ion-col>
                      <div>
                          <ion-item *ngFor="let respuestas of inspeccion?.respuestasCampoList">
                        <ion-label style="white-space: pre-wrap !important;" class="subtitulos" color="primary">{{respuestas?.valor}}</ion-label>
                    </ion-item></div>
                    </ion-col>
                  </ion-row>
                  <ion-row>
                    <ion-col>
                      <div>
                          
                            <ion-label  class="subtitulos" style="white-space: pre-wrap !important;">Código: INP-{{ inspeccion?.id }}</ion-label>
                    </div>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col>
                      <div>
                          
                        <ion-label  class="subtitulos" style="white-space: pre-wrap !important;">Realizada: {{ inspeccion?.fechaRealizada | date:"yyyy/MM/dd HH:mm"}}</ion-label>
                    </div>
                    </ion-col>
                  </ion-row>
                  <ion-row>
                    <ion-col>
                      <div>
                          
                        <ion-label  class="subtitulos" style="white-space: pre-wrap !important;">Usuario Registra: {{ inspeccion?.usuarioRegistra?.email}}</ion-label>
                    </div>
                    </ion-col>
                    
                  </ion-row>
                 
                </ion-grid>
              
        </ion-slide> 
         <ion-slide>
            <ion-card class="tarjeta">
                <ion-card-title>
                    <ion-item>
                        <ion-label class="tarjetaTitulo" color="primary">Elementos de inspeccion</ion-label>
                    </ion-item>
                </ion-card-title>
                <ion-card-content class="tarjetaContenido">
                    <div>
                        <s-lista-inspeccion-form [value]="listaInspeccion?.elementoInspeccionList" [opciones]="listaInspeccion?.opcionCalificacionList"
                        [editable]="false" [disabled]="consultar" [nivelRiesgoList]="nivelRiesgoList" diligenciable="true" #listaInspeccionForm
                        [usarNivelRiesgo]="listaInspeccion?.usarNivelRiesgo" 
                        [usarTipoHallazgo]="listaInspeccion?.usarTipoHallazgo"></s-lista-inspeccion-form>
                    </div>
                </ion-card-content>
            </ion-card>
        </ion-slide>

    <ion-slide>
        <ion-grid>
            <ion-row>
                <ion-col>
       
        <ion-card class="tarjeta">
            <ion-card-title>
                <ion-item>
                    <ion-label class="tarjetaTitulo" color="primary">Visto Bueno HSE</ion-label>
                </ion-item>
            </ion-card-title>
            <ion-card-content class="tarjetaContenido">
                
                    <ion-item>
                        <ion-label class="subtitulos" color="primary">Concepto</ion-label>
                        </ion-item>
                        <ion-item>
                        <ion-label class="subtitulos" color="primary">Usuario que gestiono</ion-label>
                        </ion-item>
                        <ion-item>
                        <ion-label class="subtitulos" color="primary">Cargo</ion-label>
                        </ion-item>
                        <ion-item>
                        <ion-label class="subtitulos" color="primary">Fecha</ion-label>
                        </ion-item>
                        
                    <ion-fab class="iconSup" vertical="bottom" horizontal="end" slot="fixed" *sTienePermiso="['HSE']">
                        <ion-fab-button color="danger" >
                          <ion-icon name="close" (click)="guardarGestionObervacion('denegar')" color="light"></ion-icon>
                          <ion-label class="aprobar">Denegar</ion-label>
                        </ion-fab-button>
                      </ion-fab>
                      
                      <ion-fab vertical="bottom" horizontal="end" slot="fixed" *sTienePermiso="['HSE']">
                        <ion-fab-button class="aprobar" color="success" >
                          <ion-icon name="checkmark" (click)="guardarGestionObervacion('aceptar')" color="light" ></ion-icon>
                          <ion-label class="aprobar">Aprobar</ion-label>
                        </ion-fab-button>
                      </ion-fab>
                    
                
            </ion-card-content>
        </ion-card>
    
                </ion-col>
            </ion-row>
    
            <ion-row>
                <ion-col>
                    <ion-card class="tarjeta">
                        <ion-card-title>
                            <ion-item>
                                <ion-label class="tarjetaTitulo" color="primary">Visto Bueno Ingenieria</ion-label>
                            </ion-item>
                        </ion-card-title>
                        <ion-card-content class="tarjetaContenido">
                            
                                <ion-item>
                                    <ion-label class="subtitulos" color="primary">Concepto</ion-label>
                                    </ion-item>
                                    <ion-item>
                                    <ion-label class="subtitulos" color="primary">Usuario que gestiono</ion-label>
                                    </ion-item>
                                    <ion-item>
                                    <ion-label class="subtitulos" color="primary">Cargo</ion-label>
                                    </ion-item>
                                    <ion-item>
                                    <ion-label class="subtitulos" color="primary">Fecha</ion-label>
                                    </ion-item>
                                    
                                <ion-fab class="iconSup" vertical="bottom" horizontal="end" slot="fixed" *sTienePermiso="['INGENIERIA']">
                                    <ion-fab-button color="danger" >
                                      <ion-icon name="close" (click)="guardarGestionObervacion('denegar')" color="light"></ion-icon>
                                      <ion-label class="aprobar">Denegar</ion-label>
                                    </ion-fab-button>
                                  </ion-fab>
                                  
                                  <ion-fab vertical="bottom" horizontal="end" slot="fixed" *sTienePermiso="['INGENIERIA']">
                                    <ion-fab-button class="aprobar" color="success" >
                                      <ion-icon name="checkmark" (click)="guardarGestionObervacion('aceptar')" color="light" ></ion-icon>
                                      <ion-label class="aprobar">Aprobar</ion-label>
                                    </ion-fab-button>
                                  </ion-fab>
                               
                            
                        </ion-card-content>
                    </ion-card>
        
    

                </ion-col>
            </ion-row>
           </ion-grid>
    </ion-slide>
</ion-slides>


</ion-content>


