{"version":3,"sources":["webpack:///./src/app/modulos/inp/components/inspeccion-form/inspeccion-form.component.html","webpack:///./src/app/modulos/inp/components/inspeccion-form/inspeccion-form.component.scss","webpack:///./src/app/modulos/inp/components/inspeccion-form/inspeccion-form.component.ts","webpack:///./src/app/modulos/inp/components/inspeccion-no-programada/inspeccion-no-programada.component.html","webpack:///./src/app/modulos/inp/components/inspeccion-no-programada/inspeccion-no-programada.component.scss","webpack:///./src/app/modulos/inp/components/inspeccion-no-programada/inspeccion-no-programada.component.ts","webpack:///./src/app/modulos/inp/components/inspeccion-pendiente/inspeccion-pendiente.component.html","webpack:///./src/app/modulos/inp/components/inspeccion-pendiente/inspeccion-pendiente.component.scss","webpack:///./src/app/modulos/inp/components/inspeccion-pendiente/inspeccion-pendiente.component.ts","webpack:///./src/app/modulos/inp/components/inspecciones-sync/inspecciones-sync.component.html","webpack:///./src/app/modulos/inp/components/inspecciones-sync/inspecciones-sync.component.scss","webpack:///./src/app/modulos/inp/components/inspecciones-sync/inspecciones-sync.component.ts","webpack:///./src/app/modulos/inp/components/menu-lista/menu-lista.component.html","webpack:///./src/app/modulos/inp/components/menu-lista/menu-lista.component.scss","webpack:///./src/app/modulos/inp/components/menu-lista/menu-lista.component.ts","webpack:///./src/app/modulos/inp/components/pregunta-inspeccion/pregunta-inspeccion.component.html","webpack:///./src/app/modulos/inp/components/pregunta-inspeccion/pregunta-inspeccion.component.scss","webpack:///./src/app/modulos/inp/components/pregunta-inspeccion/pregunta-inspeccion.component.ts","webpack:///./src/app/modulos/inp/components/programacion-inspecciones/programacion-inspecciones.component.html","webpack:///./src/app/modulos/inp/components/programacion-inspecciones/programacion-inspecciones.component.scss","webpack:///./src/app/modulos/inp/components/programacion-inspecciones/programacion-inspecciones.component.ts","webpack:///./src/app/modulos/inp/entities/calificacion.ts","webpack:///./src/app/modulos/inp/entities/elemento-inspeccion.ts","webpack:///./src/app/modulos/inp/entities/inspeccion.ts","webpack:///./src/app/modulos/inp/entities/lista-inspeccion-pk.ts","webpack:///./src/app/modulos/inp/entities/lista-inspeccion.ts","webpack:///./src/app/modulos/inp/entities/tipo-hallazgo.ts","webpack:///./src/app/modulos/inp/pages/elaboracion-inspeccion/elaboracion-inspeccion.module.ts","webpack:///./src/app/modulos/inp/pages/elaboracion-inspeccion/elaboracion-inspeccion.page.html","webpack:///./src/app/modulos/inp/pages/elaboracion-inspeccion/elaboracion-inspeccion.page.scss","webpack:///./src/app/modulos/inp/pages/elaboracion-inspeccion/elaboracion-inspeccion.page.ts"],"names":[],"mappings":"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","file":"modulos-inp-pages-elaboracion-inspeccion-elaboracion-inspeccion-module.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"anterior()\\\" [disabled]=\\\"guardando == true\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title (click)=\\\"abrirMenu()\\\">\\n      Elementos {{numeroRespondidas}}/{{indicePreguntas.length}}\\n      <!-- \\n      <div *ngIf=\\\"loadingArea == true\\\">\\n        <ion-spinner name=\\\"dots\\\" color=\\\"light\\\"></ion-spinner>\\n      </div>\\n      <div *ngIf=\\\"areasCargadas == false\\\">\\n        <a style=\\\"color:white\\\" (click)=\\\"cargarAreas()\\\">--Reintentar cargar areas--</a>\\n      </div>\\n\\n      <ion-select *ngIf=\\\"!esProgramada && areasCargadas == true\\\" placeholder=\\\"Seleccione área\\\" [(ngModel)]=\\\"area\\\" [disabled]=\\\"guardando == true\\\">\\n        <ion-select-option *ngFor=\\\"let area of areasList\\\" [value]=\\\"area\\\">{{area.nombre}}</ion-select-option>\\n      </ion-select> -->\\n\\n\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"siguiente()\\\" *ngIf=\\\"!visibleGuardar && listaCargada == true\\\" [disabled]=\\\"guardando == true\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-forward\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div *ngIf=\\\"loadingLI == true\\\">\\n    <ion-spinner class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\n  </div>\\n  <div *ngIf=\\\"listaCargada == false\\\">\\n    <p style=\\\"color:#888;padding:25px\\\">\\n      No fue posible cargar la lista de inspección\\n      <a *ngIf=\\\"listaCargada == false\\\" (click)=\\\"cargarListaInsp()\\\">Reintentar</a>\\n    </p>\\n  </div>\\n\\n  <div *ngIf=\\\"guardando == true\\\" style=\\\"width: 320px; margin:auto; text-align: center;\\\">\\n    <h6>Guardando inspección, por favor espere...</h6>\\n    <ion-spinner class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\n  </div>\\n\\n  <div [style.display]=\\\"guardando != true ? 'block':'none'\\\">\\n    <ion-item *ngIf=\\\"listaCargada == true\\\">\\n      <ion-label>{{listaInspeccion?.nombre}}</ion-label>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"listaInspeccion?.descripcion && listaCargada == true\\\">\\n      <ion-note style=\\\"padding:10px;\\\">{{listaInspeccion?.descripcion}}</ion-note>\\n    </ion-item>\\n    <ion-label style=\\\"margin-left:15px;\\\" *ngIf=\\\"esProgramada\\\">{{area?.nombre}}</ion-label>\\n    <sm-areaSelector *ngIf=\\\"!esProgramada\\\" [(ngModel)]=\\\"area\\\" [disabled]=\\\"guardando == true\\\" appendTo=\\\"ion-modal\\\"></sm-areaSelector>\\n    <ion-card *ngIf=\\\"listaCargada == true\\\" [ngClass]=\\\" (numeroPreguntaActual == -1) ? 'mostrar':'ocultar'\\\">\\n      <ion-item>\\n        <sm-formulario *ngIf=\\\"listaInspeccion?.formulario\\\" [ngClass]=\\\" (numeroPreguntaActual == -1) ? 'mostrar':'ocultar'\\\" #formulario\\n          [formularioModel]=\\\"listaInspeccion?.formulario\\\" [respuestasList]=\\\"inspPend?.respuestasCampoList\\\"></sm-formulario>\\n      </ion-item>\\n    </ion-card>\\n\\n    <sm-preguntaInspeccion *ngIf=\\\"elementoSelect\\\" [ngClass]=\\\"(numeroPreguntaActual >= 0) ? 'mostrar':'ocultar'\\\" [elementoInspeccion]=\\\"elementoSelect\\\"\\n      [opcionCalificacionList]=\\\"listaInspeccion.opcionCalificacionList\\\" [usarNivelRiesgo]=\\\"listaInspeccion.usarNivelRiesgo\\\"\\n      [usarTipoHallazgo]=\\\"listaInspeccion.usarTipoHallazgo\\\" (onCalificacionChange)=\\\"registrarCambioCalif($event)\\\">\\n    </sm-preguntaInspeccion>\\n\\n  </div>\\n\\n  <div style=\\\"height: 150px;\\\"></div>\\n  <ion-fab *ngIf=\\\"!guardando && listaCargada == true\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button (click)=\\\"guardarInspeccion()\\\">\\n      <ion-icon name=\\\"save\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n  <ion-fab *ngIf=\\\"!guardando && listaCargada == true\\\" vertical=\\\"bottom\\\" horizontal=\\\"start\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button (click)=\\\"presentAlertaSalir()\\\" color=\\\"light\\\">\\n      <ion-icon name=\\\"undo\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\"","module.exports = \".mostrar {\\n  display: block; }\\n\\n.ocultar {\\n  display: none; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N0YWxrZXIvRGVza3RvcC8xbWlsbG9uL2Zyb250ZW5kL3NpZ2Vzc19hcHAvc3JjL2FwcC9tb2R1bG9zL2lucC9jb21wb25lbnRzL2luc3BlY2Npb24tZm9ybS9pbnNwZWNjaW9uLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFjLEVBQUE7O0FBRWxCO0VBQ0ksYUFBYSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxvcy9pbnAvY29tcG9uZW50cy9pbnNwZWNjaW9uLWZvcm0vaW5zcGVjY2lvbi1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1vc3RyYXJ7XG4gICAgZGlzcGxheTogYmxvY2s7XG59XG4ub2N1bHRhcntcbiAgICBkaXNwbGF5OiBub25lO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ModalController, AlertController, ToastController, PopoverController } from '@ionic/angular';\nimport { Programacion } from '../../entities/programacion';\n\nimport { ListaInspeccionService } from '../../services/lista-inspeccion.service';\nimport { InspeccionService } from '../../services/inspeccion.service';\nimport { ListaInspeccion } from '../../entities/lista-inspeccion';\nimport { ElementoInspeccion } from '../../entities/elemento-inspeccion';\nimport { Calificacion } from '../../entities/calificacion';\nimport { Inspeccion } from '../../entities/inspeccion';\nimport { FormularioComponent } from '../../../com/components/formulario/formulario.component';\nimport { RespuestaCampo } from '../../../com/entities/respuesta-campo';\nimport { Util } from '../../../com/utils/util'\nimport { OfflineService } from '../../../com/services/offline.service';\nimport { MensajeUsuarioService } from '../../../com/services/mensaje-usuario.service';\nimport { DirectorioService } from '../../../ado/services/directorio.service';\nimport { Area } from '../../../emp/entities/area';\nimport { StorageService } from '../../../com/services/storage.service';\nimport { ListaInspeccionPK } from '../../entities/lista-inspeccion-pk';\nimport { MenuListaComponent } from '../menu-lista/menu-lista.component';\n\n@Component({\n  selector: 'sm-inspeccionForm',\n  templateUrl: './inspeccion-form.component.html',\n  styleUrls: ['./inspeccion-form.component.scss'],\n  providers: [InspeccionService]\n})\nexport class InspeccionFormComponent implements OnInit {\n\n  @ViewChild('formulario') formulario: FormularioComponent;\n  programacion: Programacion;\n  listaInspeccion: ListaInspeccion;\n  elementoSelect: ElementoInspeccion;\n  numeroPreguntaActual: number = -1;\n  indicePreguntas: any = [];\n  visibleGuardar: boolean;\n  area: Area;\n  esProgramada: boolean;\n  areasList: Area[];\n\n  guardando: boolean;\n  loadingLI: boolean;\n  listaCargada: boolean;\n  listaPk: ListaInspeccionPK;\n\n  loadingArea: boolean;\n  areasCargadas: boolean;\n  inspPend: Inspeccion;\n\n  numeroRespondidas = 0;\n\n  constructor(\n    public popoverController: PopoverController,\n    public toastController: ToastController,\n    public storageService: StorageService,\n    public alertController: AlertController,\n    public modalController: ModalController,\n    public listaInspeccionService: ListaInspeccionService,\n    public inspeccionService: InspeccionService,\n    public offlineService: OfflineService,\n    public msgService: MensajeUsuarioService,\n    public dirService: DirectorioService\n  ) { }\n\n  ngOnInit() {\n    this.modalController.getTop()\n      .then(data => {\n        let parametro = (<any>data).componentProps;\n\n        if (parametro.programacion != null) {\n          this.esProgramada = true;\n          this.programacion = parametro.programacion;\n          this.listaPk = this.programacion.listaInspeccion.listaInspeccionPK;\n          this.area = this.programacion.area;\n        } else if (parametro.listaInspeccion != null) {\n          this.esProgramada = false;\n          this.listaPk = (<ListaInspeccion>parametro.listaInspeccion).listaInspeccionPK;\n        } else if (parametro.inspeccion) {\n          this.programacion = (<Inspeccion>parametro.inspeccion).programacion;\n          this.esProgramada = this.programacion != null;\n          this.inspPend = parametro.inspeccion;\n          if (this.esProgramada) {\n            this.listaPk = this.programacion.listaInspeccion.listaInspeccionPK;\n            this.area = this.programacion.area;\n          } else {\n            this.listaPk = (<Inspeccion>parametro.inspeccion).listaInspeccion.listaInspeccionPK;\n            this.area = (<Inspeccion>parametro.inspeccion).area;\n          }\n        }\n        this.cargarListaInsp();\n      });\n  }\n\n  construirListaAreas(listado: Area[], areas: Area[]) {\n    for (let i = 0; i < areas.length; i++) {\n      let area = areas[i];\n      let areaObj = <Area>{ id: area.id, nombre: area.nombre };\n      listado.push(areaObj);\n      if (area.areaList != null && area.areaList.length > 0) {\n        this.construirListaAreas(listado, area.areaList);\n      }\n    }\n  }\n\n  cargarListaInsp() {\n    this.loadingLI = true;\n    this.listaCargada = null;\n    this.offlineService.queryListaInspeccion(this.listaPk.id, this.listaPk.version)\n      .then(data => {\n        this.listaInspeccion = (<ListaInspeccion[]>data['data'])[0];\n        this.indexarElementos(this.listaInspeccion.elementoInspeccionList, null);\n        this.loadingLI = false;\n        this.listaCargada = true;\n        if (this.inspPend != null) {\n          this.cargarInspeccion();\n        }\n      })\n      .catch(err => {\n        this.loadingLI = false;\n        this.listaCargada = false;\n      });\n  }\n\n  cargarInspeccion() {\n    this.numeroRespondidas = 0;\n    for (let i = 0; i < this.inspPend.calificacionList.length; i++) {\n      let calf = this.inspPend.calificacionList[i];\n      if (calf == null)\n        continue;\n      for (let j = 0; j < this.indicePreguntas.length; j++) {\n        let elem: ElementoInspeccion = this.indicePreguntas[j];\n        if (elem.id == calf.elementoInspeccion.id) {\n          this.numeroRespondidas += (calf.opcionCalificacion != null ? 1 : 0);\n          elem.calificacion = calf;\n          break;\n        }\n      }\n    }\n\n  }\n\n\n  indexarElementos(list: ElementoInspeccion[], padre: ElementoInspeccion) {\n    list.forEach(element => {\n      element.elementoInspeccionPadre = padre;\n      if (element.elementoInspeccionList == null || element.elementoInspeccionList.length <= 0) {\n        this.indicePreguntas.push(element);\n      } else {\n        this.indexarElementos(element.elementoInspeccionList, element);\n      }\n    });\n  }\n\n  anterior() {\n    if (!this.validarRequerirFoto()) {\n      return;\n    }\n    this.numeroPreguntaActual -= 1;\n    if (this.numeroPreguntaActual < -1) {\n      this.numeroPreguntaActual = -1;\n      this.presentAlertaSalir();\n      return;\n    }\n    if (this.numeroPreguntaActual < this.indicePreguntas.length - 1 && this.numeroPreguntaActual >= 0) {\n      this.visibleGuardar = false;\n      this.asignarElemento();\n    }\n  }\n\n  async presentAlertaSalir() {\n    const alert = await this.alertController.create({\n      header: 'Salir de la inspección',\n      message: '¿Que acción desea realizar?',\n      buttons: [{\n        text: 'Salir y descartar avances realizados',\n        handler: () => this.confirmarSalir()\n      },\n      {\n        text: 'Salir y guardar avances realizados',\n        handler: () => {\n          let inspeccion = this.generarInspeccion();\n          if (this.inspPend == null) {\n            inspeccion.fechaRealizada = new Date();\n            inspeccion['hash'] = inspeccion.fechaRealizada.getTime();\n            this.storageService.guardarInspeccionPendiente(inspeccion);\n          } else {\n            inspeccion.fechaRealizada = this.inspPend.fechaRealizada;\n            inspeccion['hash'] = this.inspPend['hash'];\n            this.storageService.actualizarInspeccionPendiente(inspeccion);\n          }\n          this.modalController.dismiss();\n        }\n      },\n      {\n        text: 'Continuar la inspección',\n        role: 'cancel'\n      }]\n    });\n    await alert.present();\n  }\n\n  async confirmarSalir() {\n    const alert = await this.alertController.create({\n      header: 'Salir de la inspección',\n      message: '¿Confirma salir y descartar la inspección actual?',\n      buttons: [{\n        text: 'Si',\n        handler: () => {\n          for (let i = 0; i < this.indicePreguntas.length; i++) {\n            let imgKey = this.indicePreguntas[i].calificacion == null ? null : this.indicePreguntas[i].calificacion['img_key'];\n            if (imgKey != null)\n              localStorage.removeItem(imgKey);\n          }\n          this.modalController.dismiss();\n        }\n      },\n      {\n        text: 'No',\n        role: 'cancel'\n      }]\n    });\n    await alert.present();\n  }\n\n\n  siguiente() {\n    if (this.numeroPreguntaActual == this.indicePreguntas.length - 1) {\n      this.visibleGuardar = true;\n      return;\n    }\n    if (!this.validarRequerirFoto()) {\n      return;\n    }\n\n    this.numeroPreguntaActual += 1;\n    this.asignarElemento();\n  }\n\n  validarRequerirFoto() {\n    if (\n      (\n        this.elementoSelect != null &&\n        this.elementoSelect.calificacion != null &&\n        this.elementoSelect.calificacion.opcionCalificacion != null &&\n        this.elementoSelect.calificacion.opcionCalificacion.requerirDoc == true\n      ) &&\n      (\n        this.elementoSelect.calificacion['img_key'] == null ||\n        this.elementoSelect.calificacion['img_key'].length == 0\n      )\n    ) {\n      this.presentToast(\n        \"Debe especificar al menos una fotografía para la calificación \\\"\"\n        + this.elementoSelect.calificacion.opcionCalificacion.nombre + \"\\\"\"\n      );\n      return false;\n    }\n    return true;\n  }\n\n  asignarElemento() {\n    this.elementoSelect = this.indicePreguntas[this.numeroPreguntaActual];\n  }\n\n  async presentToast(msg: string) {\n    try {\n      this.toastController.dismiss();\n    } catch (e) { }\n\n    const toast = await this.toastController.create({\n      message: msg,\n      position: 'middle',\n      duration: 3000\n    });\n    toast.present();\n  }\n\n  generarInspeccion(validar?: boolean): Inspeccion {\n    let calificacionList = [];\n    for (let i = 0; i < this.indicePreguntas.length; i++) {\n      let calf = <Calificacion>this.indicePreguntas[i].calificacion;\n      if (validar && (calf == null || calf.opcionCalificacion == null)) {\n        this.numeroPreguntaActual = i;\n        this.elementoSelect = this.indicePreguntas[this.numeroPreguntaActual];\n        this.visibleGuardar = this.numeroPreguntaActual == this.indicePreguntas.length - 1;\n        this.presentToast('Por favor especifique la calificación de la pregunta \\\"' + this.elementoSelect.codigo + ' ' + this.elementoSelect.nombre + '\\\"');\n        return;\n      }\n      if (validar && (calf.nivelRiesgo != null && (calf.recomendacion == null || calf.recomendacion.length <= 0))) {\n        this.numeroPreguntaActual = i;\n        this.elementoSelect = this.indicePreguntas[this.numeroPreguntaActual];\n        this.visibleGuardar = this.numeroPreguntaActual == this.indicePreguntas.length - 1;\n        this.presentToast('Por favor especifique la descripción del hallazgo según el nivel de riesgo establecido');\n        return;\n      }\n      calificacionList.push(calf);\n    }\n\n    let inspeccion = new Inspeccion();\n    inspeccion.calificacionList = calificacionList;\n    inspeccion.respuestasCampoList = [];\n    if (this.esProgramada) {\n      inspeccion.programacion = this.programacion;\n    } else {\n      inspeccion.area = this.area;\n      inspeccion.listaInspeccion = new ListaInspeccion();\n      inspeccion.listaInspeccion.listaInspeccionPK = this.listaInspeccion.listaInspeccionPK;\n      inspeccion.listaInspeccion.nombre = this.listaInspeccion.nombre;\n      inspeccion.listaInspeccion.codigo = this.listaInspeccion.codigo;\n    }\n\n    this.listaInspeccion.formulario.campoList.forEach(campo => {\n      let respCampo = new RespuestaCampo();\n      respCampo.campoId = campo.id;\n      if (campo.tipo == 'timestamp' || campo.tipo == 'date') {\n        respCampo.valor = new Date(this.formulario.form.value[campo.id + \"_\" + campo.nombre]);\n      } else if (campo.tipo == 'multiple_select' && campo.respuestaCampo.valor != null) {\n        respCampo.valor = Util.arrayAString(';', <string[]>campo.respuestaCampo.valor);\n      } else {\n        respCampo.valor = this.formulario.form.value[campo.id + \"_\" + campo.nombre];\n      }\n      inspeccion.respuestasCampoList.push(respCampo);\n    });\n    return inspeccion;\n  }\n\n  guardarInspeccion() {\n    if (this.formulario.form.status == 'INVALID') {\n      this.numeroPreguntaActual = -1;\n      this.visibleGuardar = false;\n\n      this.presentToast('Por favor diligencie los datos generales faltantes de la inspección');\n      return;\n    }\n    if (!this.esProgramada && this.area == null) {\n      this.presentToast('Por favor diligencie el campo ubicación');\n      return;\n    }\n\n    let inspeccion = this.generarInspeccion(true);\n    if (inspeccion == null)\n      return;\n\n    this.guardando = true;\n    this.persistirInspeccion(inspeccion)\n      .then(data => {\n        this.guardando = false;\n        this.manageResponse(data);\n        if (this.inspPend != null)\n          this.storageService.borrarInspeccionPendiente(this.inspPend);\n      })\n      .catch(err => {\n        this.guardando = false;\n      });\n  }\n\n  persistirInspeccion(inspeccion: Inspeccion): Promise<any> {\n    if (this.offlineService.getOfflineMode()) {\n      return new Promise((resolve, reject) => {\n        inspeccion.fechaRealizada = new Date();\n        inspeccion['hash'] = inspeccion.fechaRealizada.toISOString();\n        this.storageService.guardarInspeccion(inspeccion)\n          .then(() => resolve(inspeccion))\n          .catch(err => reject(err));\n      });\n    } else {\n      return this.inspeccionService.create(inspeccion)\n        .then(resp => {\n          let inp = <Inspeccion>resp;\n          for (let i = 0; i < inp.calificacionList.length; i++) {\n            let calf = inp.calificacionList[i];\n            let imgsUrls = inspeccion.calificacionList[i]['img_key'];\n            if (imgsUrls != null) {\n              let j = 0;\n              imgsUrls.forEach(url => {\n                if (url != null) {\n                  Util.dataURLtoFile(url, 'img_' + i + j + '_inp_calf_' + calf.id + '.jpeg').then(\n                    file => this.dirService.upload(file, null, 'INP', calf.id).then(imgResp => localStorage.removeItem(url))\n                  );\n                }\n                j += 1;\n              });\n            }\n          }\n        });\n    }\n  }\n\n  manageResponse(inspeccion: Inspeccion) {\n    this.modalController.dismiss(inspeccion).then(\n      resp => this.msgService.showMessage({\n        tipoMensaje: 'success',\n        mensaje: 'INSPECCIÓN REALIZADA',\n        detalle: 'Se ha registrado correctamente la inspección'\n      })\n    );\n  }\n\n\n  async abrirMenu() {\n    const popover = await this.popoverController.create({\n      component: MenuListaComponent,\n      componentProps: { 'listaInspeccion': this.listaInspeccion }\n    });\n    popover.onDidDismiss()\n      .then(param => {\n        this.redireccionar(param.data);\n      });\n    await popover.present();\n  }\n\n  redireccionar(indice: number) {\n    if (!this.validarRequerirFoto())\n      return;\n\n    if (indice == null)\n      return;\n\n    this.numeroPreguntaActual = indice;\n    this.asignarElemento();\n  }\n\n  registrarCambioCalif(event: any) {\n    this.numeroRespondidas = 0;\n    this.indicePreguntas.forEach((el: ElementoInspeccion) => {\n      if (el.calificacion != null && el.calificacion.opcionCalificacion != null)\n        this.numeroRespondidas += 1;\n    });\n  }\n\n}\n","module.exports = \"\\n<div *ngIf=\\\"loading == true\\\">\\n    <ion-spinner class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\n  </div>\\n\\n<div *ngIf=\\\"listasCargadas == false\\\">\\n    <p style=\\\"color:#888;padding:25px\\\">\\n        No fue posible cargar las listas de inspección.\\n        <a *ngIf=\\\"listasCargadas == false\\\" (click)=\\\"cargarListas()\\\">Reintentar</a>\\n    </p>\\n</div>\\n\\n<ion-card *ngFor=\\\"let lista of listasInspeccion; let i = index\\\">\\n    <ion-card-header>\\n        <ion-item>\\n            <h6>{{lista.nombre}}</h6>\\n            <ion-button fill=\\\"outline\\\" slot=\\\"end\\\" *sTienePermiso=\\\"['SEC_GET_SISTNR', 'INP_GET_LISTINP']\\\" (click)=\\\"seleccionarLista(lista)\\\">\\n                Realizar\\n            </ion-button>\\n        </ion-item>\\n        <ion-card-content>\\n            <p>{{lista.codigo}}</p>\\n            <p>{{lista.descripcion}}</p>\\n        </ion-card-content>\\n    </ion-card-header>\\n</ion-card>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvaW5wL2NvbXBvbmVudHMvaW5zcGVjY2lvbi1uby1wcm9ncmFtYWRhL2luc3BlY2Npb24tbm8tcHJvZ3JhbWFkYS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { OfflineService } from '../../../com/services/offline.service';\nimport { ListaInspeccion } from '../../entities/lista-inspeccion';\n\n@Component({\n  selector: 'sm-inspeccionNoProgramada',\n  templateUrl: './inspeccion-no-programada.component.html',\n  styleUrls: ['./inspeccion-no-programada.component.scss']\n})\nexport class InspeccionNoProgramadaComponent implements OnInit {\n\n  @Output(\"onListaSelect\") onListaSelect = new EventEmitter<ListaInspeccion>();\n  listasInspeccion: ListaInspeccion[];\n\n  loading: boolean;\n  listasCargadas: boolean;\n\n  constructor(\n    private offlineService: OfflineService,\n  ) { }\n\n  ngOnInit() {\n    this.cargarListas();\n  }\n\n  cargarListas() {\n    this.loading = true;\n    this.listasCargadas = null;\n    this.offlineService.queryListasInspeccion()\n      .then(resp => {\n        this.listasInspeccion = resp['data'];\n        this.loading = false;\n        this.listasCargadas = true;\n      })\n      .catch(err => {\n        this.loading = false;\n        this.listasCargadas = false;\n      });\n  }\n\n  seleccionarLista(lista) {\n    this.onListaSelect.emit(lista);\n  }\n\n}\n","module.exports = \"<ion-item>\\n    <ion-icon [name]=\\\"inspeccionesList.length > 0 ? 'alert' : 'checkmark-circle'\\\" [color]=\\\"inspeccionesList.length > 0 ? 'warning' : 'success'\\\"></ion-icon>\\n    <ion-label>\\n        <h4 *ngIf=\\\"inspeccionesList.length > 0\\\">Inspecciones iniciadas</h4>\\n        <h4 *ngIf=\\\"inspeccionesList.length == 0\\\">Sin pendientes</h4>\\n    </ion-label>\\n</ion-item>\\n\\n<ion-list>\\n    <ion-item *ngFor=\\\"let item of inspeccionesList; let idx = index;\\\" button>\\n        <ion-label (click)=\\\"seleccionar(item)\\\">\\n            <h4>{{item.fechaRealizada | date:'yyyy-MM-dd HH:mm'}}</h4>\\n            <p>{{item.listaInspeccion.codigo}} - {{item.listaInspeccion.nombre}}</p>\\n        </ion-label>\\n        <ion-button (click)=\\\"elimianrInsp(item, idx)\\\" slot=\\\"end\\\" fill=\\\"clear\\\">\\n            <ion-icon name=\\\"close\\\"></ion-icon>\\n        </ion-button>\\n    </ion-item>\\n</ion-list>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvaW5wL2NvbXBvbmVudHMvaW5zcGVjY2lvbi1wZW5kaWVudGUvaW5zcGVjY2lvbi1wZW5kaWVudGUuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\nimport { ListaInspeccion } from '../../entities/lista-inspeccion';\nimport { ElementoInspeccion } from '../../entities/elemento-inspeccion';\nimport { PopoverController, NavParams, AlertController } from '@ionic/angular';\nimport { Inspeccion } from '../../entities/inspeccion';\nimport { StorageService } from '../../../com/services/storage.service';\n\n\n@Component({\n  selector: 'sm-inspeccionPendiente',\n  templateUrl: './inspeccion-pendiente.component.html',\n  styleUrls: ['./inspeccion-pendiente.component.scss']\n})\nexport class InspeccionPendienteComponent implements OnInit {\n\n  inspeccionesList: Inspeccion[];\n  contador: number = 0;\n  datosGene: string;\n\n  constructor(\n    public alertController: AlertController,\n    private storageService: StorageService,\n    private navParams: NavParams,\n    private popoverController: PopoverController\n  ) { }\n\n  ngOnInit() {\n    this.inspeccionesList = <Inspeccion[]>(this.navParams.data.inspecciones);\n  }\n\n  seleccionar(insp: Inspeccion) {\n    this.popoverController.dismiss(insp);\n  }\n\n  async elimianrInsp(insp: Inspeccion, idx: number) {\n    const alert = await this.alertController.create({\n      header: 'Confirmar acción',\n      message: 'Esto borrará permanentemente la inspección que habia inciado ¿Confirma esta acción?',\n      buttons: [{\n        text: 'Si',\n        handler: () => {\n          this.storageService.borrarInspeccionPendiente(insp);\n          this.inspeccionesList.splice(idx, 1);\n          if (this.inspeccionesList.length == 0)\n            this.popoverController.dismiss();\n        }\n      },\n      {\n        text: 'No',\n        role: 'cancel'\n      }]\n    });\n    await alert.present();\n\n\n  }\n}\n","module.exports = \"<ion-card *ngFor=\\\"let inp of inspList; let i = index\\\">\\n  <ion-item>\\n\\n    <ion-button *ngIf=\\\"inp['sync'] == null || inp['sync'] == false\\\" fill=\\\"outline\\\" (click)=\\\"sincronizar(inp, i)\\\">\\n      {{inp.fechaRealizada | date:'dd/MM/yyyy HH:mm'}}\\n    </ion-button>\\n\\n    <ion-spinner *ngIf=\\\"inp['sync'] == true\\\" class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\n\\n    <ion-button *ngIf=\\\"inp['sync'] == null || inp['sync'] == false\\\" fill=\\\"clear\\\" slot=\\\"end\\\" (click)=\\\"presentAlertConfirm(inp, i)\\\"\\n      color=\\\"medium\\\">\\n      <ion-icon name=\\\"close\\\"></ion-icon>\\n    </ion-button>\\n\\n  </ion-item>\\n  <ion-card-header>\\n    <ion-label *ngIf=\\\"inp.programacion\\\">{{inp.programacion.listaInspeccion.nombre}}</ion-label>\\n    <ion-label *ngIf=\\\"inp.listaInspeccion\\\">{{inp.listaInspeccion.nombre}}</ion-label>\\n    <ion-card-subtitle>\\n      <ion-label *ngIf=\\\"inp.programacion\\\">{{inp.programacion.area.nombre}}</ion-label>\\n      <ion-label *ngIf=\\\"inp.area\\\">{{inp.area.nombre}}</ion-label>\\n    </ion-card-subtitle>\\n    <ion-card-subtitle *ngIf=\\\"inp.programacion\\\"> {{inp.programacion.fecha | date:'dd/MM/yyyy'}} </ion-card-subtitle>\\n    <ion-card-subtitle *ngIf=\\\"!inp.programacion\\\"> No programada </ion-card-subtitle>\\n  </ion-card-header>\\n</ion-card>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvaW5wL2NvbXBvbmVudHMvaW5zcGVjY2lvbmVzLXN5bmMvaW5zcGVjY2lvbmVzLXN5bmMuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\n\nimport { Inspeccion } from '../../entities/inspeccion';\nimport { Util } from '../../../com/utils/util';\nimport { InspeccionService } from '../../services/inspeccion.service';\nimport { MensajeUsuarioService } from '../../../com/services/mensaje-usuario.service';\nimport { DirectorioService } from '../../../ado/services/directorio.service';\nimport { AlertController } from '@ionic/angular';\nimport { StorageService } from '../../../com/services/storage.service';\n\n@Component({\n  selector: 'sm-inspeccionesSync',\n  templateUrl: './inspecciones-sync.component.html',\n  styleUrls: ['./inspecciones-sync.component.scss']\n})\nexport class InspeccionesSyncComponent implements OnInit {\n\n  @Input('inspecciones') inspList: Inspeccion[];\n  @Output('onEvent') onEvent = new EventEmitter<any>();\n  // @Output('onLoadEvent') onLoadEvent = new EventEmitter<any>();\n\n  constructor(\n    private storageService: StorageService,\n    private inspeccionService: InspeccionService,\n    private msgService: MensajeUsuarioService,\n    private dirService: DirectorioService,\n    public alertController: AlertController\n  ) { }\n\n  ngOnInit() {\n    this.storageService.getInspecciones()\n      .then(resp => {\n        if (resp != null) {\n          this.onEvent.emit({ type: 'onLoad', count: resp.count });\n          this.inspList = resp['data'];\n        } else {\n          this.onEvent.emit({ type: 'onLoad', count: 0 });\n        }\n      });\n  }\n\n  adicionarInspeccion(inspeccion: Inspeccion) {\n    if (this.inspList == null)\n      this.inspList = [];\n    this.inspList.push(inspeccion);\n    this.inspList = this.inspList.slice();\n  }\n\n  borrarInspeccion(insp: Inspeccion, indice: number, emitEvent?: boolean) {\n    return this.storageService.borrarInspeccion(insp)\n      .then(() => {\n        this.inspList.splice(indice, 1);\n        this.inspList = this.inspList.slice();\n        if (emitEvent)\n          this.onEvent.emit({ type: 'onLocalRemove', count: this.inspList.length, inspeccion: insp });\n      })\n  }\n\n  async presentAlertConfirm(inp: Inspeccion, index: number) {\n    const alert = await this.alertController.create({\n      header: '¿Eliminar inspección?',\n      message: 'Esto borrará de su entorno local la inspección y no podrá sincronizarla. ¿Confirma esta acción?',\n      buttons: [{\n        text: 'Si',\n        handler: () => {\n          this.borrarInspeccion(inp, index, true);\n          this.msgService.showMessage({ tipoMensaje: 'info', mensaje: 'Inspección eliminada de entorno local', detalle: '' });\n        }\n      }, {\n        text: 'No',\n        role: 'cancel',\n        cssClass: 'No'\n      }]\n    });\n    await alert.present();\n  }\n\n  sincronizar(insp: Inspeccion, indice: number) {\n    insp['sync'] = true;\n    this.inspeccionService.create(insp)\n      .then(resp => {\n        for (let i = 0; i < insp.calificacionList.length; i++) {\n          let calf = (<Inspeccion>resp).calificacionList[i];\n          let imgsUrls = insp.calificacionList[i]['img_key'];\n          if (imgsUrls != null) {\n            let j = 0;\n            imgsUrls.forEach(url => {\n              // let url = localStorage.getItem(key);\n              if (url != null) {\n                Util.dataURLtoFile(url, 'img_' + i + j + '_inp_calf_' + calf.id + '.jpeg').then(\n                  file => this.dirService.upload(file, null, 'INP', calf.id).then(imgResp => localStorage.removeItem(url))\n                );\n              }\n              j += 1;\n            });\n          }\n        }\n\n        console.log(\"Sincronizando insp...\");\n        this.borrarInspeccion(insp, indice)\n          .then(() => {\n            insp['sync'] = false;\n            this.msgService.showMessage({\n              tipoMensaje: 'success',\n              mensaje: 'Inspección sincronizada',\n              detalle: 'La inspección ha sido sincronizada correctamente'\n            });\n            this.onEvent.emit({ type: 'onSync', inspeccion: resp, count: this.inspList.length });\n          });\n      })\n      .catch(err => {\n        insp['sync'] = false;\n      });\n  }\n\n}\n","module.exports = \"<ion-list>\\n    <ion-item *ngFor=\\\"let item of items\\\" button (click)=\\\"seleccionar(item.indice)\\\">\\n        <ion-icon slot=\\\"start\\\" *ngIf=\\\"item.calificable\\\" name=\\\"checkmark-circle\\\" [color]=\\\"item.checked ? 'primary':'light'\\\"></ion-icon>\\n        <ion-label>{{item.label}}</ion-label>\\n    </ion-item>\\n</ion-list>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvaW5wL2NvbXBvbmVudHMvbWVudS1saXN0YS9tZW51LWxpc3RhLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\nimport { ListaInspeccion } from '../../entities/lista-inspeccion';\nimport { ElementoInspeccion } from '../../entities/elemento-inspeccion';\nimport { PopoverController, NavParams } from '@ionic/angular';\n\n\n@Component({\n  selector: 'sm-menuLista',\n  templateUrl: './menu-lista.component.html',\n  styleUrls: ['./menu-lista.component.scss']\n})\nexport class MenuListaComponent implements OnInit {\n\n  items: any;\n  contador: number = 0;\n  datosGene: string;\n\n  constructor(\n    private navParams: NavParams,\n    private popoverController: PopoverController\n  ) { }\n\n  ngOnInit() {\n    let lista = <ListaInspeccion>(this.navParams.data.listaInspeccion);\n    this.items = [{\n      label: lista.formulario.nombre,\n      calificable: false,\n      checked: false,\n      indice: -1\n    }];\n    this.generarMenu(this.items, lista.elementoInspeccionList);\n  }\n\n  generarMenu(list: any[], elementos: ElementoInspeccion[]) {\n    elementos.forEach(el => {\n      let calificable = el.elementoInspeccionList == null || el.elementoInspeccionList.length == 0;\n      list.push({\n        label: el.codigo + ' ' + el.nombre,\n        calificable: calificable,\n        checked: el.calificacion != null && el.calificacion.opcionCalificacion != null,\n        indice: (calificable ? this.contador : null)\n      });\n      if (calificable)\n        this.contador += 1;\n      if (el.elementoInspeccionList != null && el.elementoInspeccionList.length > 0) {\n        this.generarMenu(list, el.elementoInspeccionList);\n      }\n    });\n  }\n\n  seleccionar(indice: number) {\n    if (indice != null)\n      this.popoverController.dismiss(indice);\n  }\n\n}\n","module.exports = \"<ion-card *ngIf=\\\"elementoActual\\\">\\n  <ion-item *ngFor=\\\"let elem of elementoParents\\\">\\n    <p>{{elem}}</p>\\n  </ion-item>\\n  <ion-item>\\n    <ion-label position=\\\"stacked\\\">Calificación</ion-label>\\n    <ion-select okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\" compareWith=\\\"id\\\" [(ngModel)]=\\\"elementoActual.calificacion.opcionCalificacion\\\"\\n      (ionChange)=\\\"emitirCambioCalificacion($event)\\\">\\n      <ion-select-option *ngFor=\\\"let opc of opcionCalificacionList\\\" [value]=\\\"opc\\\">\\n        {{opc.nombre}} - {{opc.descripcion}}\\n      </ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n  <ion-item>\\n    <ion-label position=\\\"stacked\\\">Descripción del hallazgo</ion-label>\\n    <ion-textarea [(ngModel)]=\\\"elementoActual.calificacion.recomendacion\\\" maxlength=\\\"510\\\"></ion-textarea>\\n  </ion-item>\\n  <ion-button color=\\\"primary\\\" fill=\\\"outline\\\" expand=\\\"block\\\" (click)=\\\"getPicture()\\\">\\n    <ion-icon slot=\\\"icon-only\\\" name=\\\"camera\\\"></ion-icon>\\n  </ion-button>\\n  <ion-item>\\n    <!-- <img [src]=\\\"image\\\" *ngIf=\\\"image\\\" /> -->\\n    <ion-slides pager=\\\"true\\\" #ionSlides>\\n      <ion-slide *ngFor=\\\"let img of imagenes;let i = index\\\">\\n        <div>\\n          <div class=\\\"img-toolbar\\\">\\n            <ion-button slot=\\\"end\\\" fill=\\\"clear\\\" color=\\\"medium\\\" (click)=\\\"presentRemoveImg(i)\\\">\\n              <ion-icon name=\\\"close\\\"></ion-icon>\\n            </ion-button>\\n          </div>\\n          <img [src]=\\\"img | safeBypass:'resourceUrl'\\\" />\\n        </div>\\n      </ion-slide>\\n    </ion-slides>\\n  </ion-item>\\n  <ion-item *ngIf=\\\"usarTipoHallazgo\\\">\\n    <ion-label position=\\\"stacked\\\">Tipo hallazgo</ion-label>\\n    <ion-select okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\" [(ngModel)]=\\\"elementoActual.calificacion.tipoHallazgo\\\">\\n      <ion-select-option *ngFor=\\\"let th of elementoActual?.tipoHallazgoList\\\" [value]=\\\"th\\\">{{th.nombre}}\\n      </ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n  <ion-item *ngIf=\\\"usarNivelRiesgo\\\">\\n    <ion-label position=\\\"stacked\\\">Nivel de riesgo</ion-label>\\n    <ion-select okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\" [(ngModel)]=\\\"elementoActual.calificacion.nivelRiesgo\\\">\\n      <ion-select-option *ngFor=\\\"let nr of sistNivelRiesgo?.nivelRiesgoList\\\" [value]=\\\"nr\\\">{{nr.nombre}} - {{nr.descripcion}}\\n      </ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n</ion-card>\\n\\n\\n<!-- <ion-grid *ngIf=\\\"elementoActual\\\">\\n  <ion-row>\\n    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\" size-lg=\\\"12\\\" size-xl=\\\"12\\\">\\n      <p *ngFor=\\\"let elem of elementoParents\\\">{{elem}}</p>\\n    </ion-col>\\n    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\" size-lg=\\\"12\\\" size-xl=\\\"12\\\">\\n      <ion-button color=\\\"primary\\\" fill=\\\"outline\\\" expand=\\\"block\\\" (click)=\\\"getPicture()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"camera\\\"></ion-icon>\\n      </ion-button>\\n      <img [src]=\\\"image\\\" *ngIf=\\\"image\\\" />\\n    </ion-col>\\n    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\" size-lg=\\\"12\\\" size-xl=\\\"12\\\">\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Calificación</ion-label>\\n        <ion-select okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\" [(ngModel)]=\\\"elementoActual.calificacion.opcionCalificacion\\\">\\n          <ion-select-option *ngFor=\\\"let opc of opcionCalificacionList\\\" [value]=\\\"opc\\\">{{opc.nombre}} -\\n            {{opc.descripcion}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n    </ion-col>\\n    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\" size-lg=\\\"12\\\" size-xl=\\\"12\\\" *ngIf=\\\"usarTipoHallazgo\\\">\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Tipo hallazgo</ion-label>\\n        <ion-select okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\" [(ngModel)]=\\\"elementoActual.calificacion.tipoHallazgo\\\">\\n          <ion-select-option *ngFor=\\\"let th of elementoActual?.tipoHallazgoList\\\" [value]=\\\"th\\\">{{th.nombre}}\\n          </ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n    </ion-col>\\n    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\" size-lg=\\\"12\\\" size-xl=\\\"12\\\" *ngIf=\\\"usarNivelRiesgo\\\">\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Nivel de riesgo</ion-label>\\n        <ion-select okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\" [(ngModel)]=\\\"elementoActual.calificacion.nivelRiesgo\\\">\\n          <ion-select-option *ngFor=\\\"let nr of sistNivelRiesgo?.nivelRiesgoList\\\" [value]=\\\"nr\\\">{{nr.nombre}} -\\n            {{nr.descripcion}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n    </ion-col>\\n    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\" size-lg=\\\"12\\\" size-xl=\\\"12\\\">\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Recomendación</ion-label>\\n        <ion-textarea [(ngModel)]=\\\"elementoActual.calificacion.recomendacion\\\"></ion-textarea>\\n      </ion-item>\\n    </ion-col>\\n  </ion-row>\\n\\n</ion-grid> -->\"","module.exports = \".img-toolbar {\\n  height: 50px; }\\n\\n.img-toolbar ion-button {\\n  float: right; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N0YWxrZXIvRGVza3RvcC8xbWlsbG9uL2Zyb250ZW5kL3NpZ2Vzc19hcHAvc3JjL2FwcC9tb2R1bG9zL2lucC9jb21wb25lbnRzL3ByZWd1bnRhLWluc3BlY2Npb24vcHJlZ3VudGEtaW5zcGVjY2lvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQVksRUFBQTs7QUFHaEI7RUFDSSxZQUFZLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tb2R1bG9zL2lucC9jb21wb25lbnRzL3ByZWd1bnRhLWluc3BlY2Npb24vcHJlZ3VudGEtaW5zcGVjY2lvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbWctdG9vbGJhcntcbiAgICBoZWlnaHQ6IDUwcHg7XG59XG5cbi5pbWctdG9vbGJhciBpb24tYnV0dG9ue1xuICAgIGZsb2F0OiByaWdodDtcbn0iXX0= */\"","import { Component, OnInit, Input, SecurityContext, ViewChild, Output, EventEmitter } from '@angular/core';\nimport { ElementoInspeccion } from '../../entities/elemento-inspeccion';\nimport { SistemaNivelRiesgo } from '../../../com/entities/sistema-nivel-riesgo';\n\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { OpcionCalificacion } from '../../entities/opcion-calificacion';\nimport { OfflineService } from '../../../com/services/offline.service';\nimport { Calificacion } from '../../entities/calificacion';\nimport { TipoHallazgo } from '../../entities/tipo-hallazgo';\nimport { AlertController, IonSlides } from '@ionic/angular';\n\n@Component({\n  selector: 'sm-preguntaInspeccion',\n  templateUrl: './pregunta-inspeccion.component.html',\n  styleUrls: ['./pregunta-inspeccion.component.scss'],\n  providers: [Camera]\n})\nexport class PreguntaInspeccionComponent implements OnInit {\n\n  @Output(\"onCalificacionChange\") onCalificacionChange = new EventEmitter();\n  @ViewChild(\"ionSlides\") ionSlides: IonSlides;\n\n  private _elementoActual: ElementoInspeccion;\n  @Input('usarTipoHallazgo') usarTipoHallazgo: boolean;\n  @Input('usarNivelRiesgo') usarNivelRiesgo: boolean;\n  @Input('opcionCalificacionList') opcionCalificacionList: OpcionCalificacion[];\n  sistNivelRiesgo: SistemaNivelRiesgo;\n  // image: any;\n  imagenes: any[] = [];\n  elementoParents: string[];\n  numMaxFotos: number;\n\n\n\n  options: CameraOptions = {\n    quality: 75,\n    destinationType: this.camera.DestinationType.FILE_URI,\n    encodingType: this.camera.EncodingType.JPEG,\n    correctOrientation: true,\n    mediaType: this.camera.MediaType.PICTURE,\n    targetWidth: 960,\n    targetHeight: 960,\n  }\n\n\n  constructor(\n    public alertController: AlertController,\n    private offlineService: OfflineService,\n    private camera: Camera,\n  ) {\n    this.numMaxFotos = this.offlineService.sessionService.getConfigParam('NUM_MAX_FOTO_INP');\n  }\n\n  // getPicture() {\n  //   let options: CameraOptions = {\n  //     quality: 75,\n  //     destinationType: this.camera.DestinationType.FILE_URI,\n  //     encodingType: this.camera.EncodingType.JPEG,\n  //     correctOrientation: true,\n  //     mediaType: this.camera.MediaType.PICTURE,\n  //     targetWidth: 960,\n  //     targetHeight: 960,\n  //   }\n  //   this.camera.getPicture(options)\n  //     .then(imageData => {\n  //       let imgKey = this.elementoActual.calificacion['img_key'];\n  //       if (imgKey == null) {\n  //         imgKey = new Date().toISOString();\n  //       } else {\n  //         localStorage.removeItem(imgKey);\n  //       }\n  //       this.elementoActual.calificacion['img_key'] = imgKey;\n  //       let ionImageUrl = (<any>window).Ionic.WebView.convertFileSrc(imageData);\n  //       this.image = this.domSanitizer.bypassSecurityTrustResourceUrl(ionImageUrl);\n  //       localStorage.setItem(imgKey, ionImageUrl);\n  //     })\n  //     .catch(error => console.error(error));\n  // }\n\n  getPicture() {\n    if (this.imagenes != null && this.imagenes.length >= this.numMaxFotos) {\n      this.presentAlert(\"Número máximo de fotografías alcanzado\", \"No es posible adjuntar mas de \" + this.numMaxFotos + \" fotografía(s) por hallazgo\");\n      return;\n    }\n    this.camera.getPicture(this.options)\n      .then(imageData => {\n        let imgsUrls = this.elementoActual.calificacion['img_key'];\n        if (imgsUrls == null)\n          imgsUrls = [];\n\n        if (this.imagenes == null)\n          this.imagenes = [];\n\n        let imgUrl = (<any>window).Ionic.WebView.convertFileSrc(imageData);\n        imgsUrls.push(imgUrl);\n\n        // let imgKey = new Date().toISOString();\n        // imgsKeys.push(imgKey);\n        // localStorage.setItem(imgKey, imgUrl);\n\n        this.elementoActual.calificacion['img_key'] = imgsUrls;\n\n        this.imagenes.push(imgUrl);\n        this.imagenes = this.imagenes.slice();\n      }).catch(error => {\n        console.error(error);\n      });\n  }\n\n  ngOnInit() {\n    // -- Consulta niveles de riesgo\n    this.offlineService.querySistemaNivelRiesgo().then(\n      resp => this.sistNivelRiesgo = resp['data'][0]\n    );\n  }\n\n  @Input('elementoInspeccion') set elementoActual(value: ElementoInspeccion) {\n    console.log(\"Setting elemento...\");\n    this._elementoActual = value;\n    this.imagenes = null;\n    if (value != null && value.calificacion != null) {\n      this._elementoActual.calificacion = value.calificacion;\n      let imgsUrls = value.calificacion['img_key'];\n      if (imgsUrls != null) {\n        this.imagenes = [];\n        imgsUrls.forEach(imgurl => this.imagenes.push(imgurl));\n      }\n    } else {\n      this._elementoActual.calificacion = new Calificacion();\n      this._elementoActual.calificacion.elementoInspeccion = new ElementoInspeccion();\n      this._elementoActual.calificacion.elementoInspeccion.id = this._elementoActual.id;\n      this._elementoActual.calificacion.tipoHallazgo = new TipoHallazgo();\n    }\n    this.elementoParents = [];\n    this.fillElementosParent(this._elementoActual, this.elementoParents);\n  }\n\n  fillElementosParent(elem: ElementoInspeccion, elementos: string[]) {\n    if (elem.elementoInspeccionPadre != null) {\n      this.fillElementosParent(elem.elementoInspeccionPadre, elementos);\n    }\n    elementos.push((elem.codigo == null ? '' : elem.codigo + ' ') + elem.nombre);\n  }\n\n  get elementoActual() {\n    return this._elementoActual;\n  }\n\n  removerImg(index: number) {\n    let imgsUrls = this.elementoActual.calificacion['img_key'];\n    // let imgurl = imgsUrls[index];\n\n    let imgsAux = this.imagenes.slice();\n    imgsAux.splice(index, 1);\n    this.imagenes = null;\n\n    imgsUrls.splice(index, 1);\n    this.elementoActual.calificacion['img_key'] = imgsUrls;\n\n    setTimeout(() => {\n      this.imagenes = imgsAux;\n    }, 50);\n\n    // localStorage.removeItem(imgurl);\n  }\n\n  async presentRemoveImg(index: number) {\n    const alert = await this.alertController.create({\n      header: '¿Desea remover la fotografía?',\n      message: 'La fotografía será eliminada. ¿Confirma esta acción?',\n      buttons: [{\n        text: 'Si',\n        handler: () => this.removerImg(index)\n      }, {\n        text: 'No',\n        role: 'cancel',\n        cssClass: 'No'\n      }]\n    });\n    await alert.present();\n  }\n\n  async presentAlert(header: string, msg: string) {\n    const alert = await this.alertController.create({\n      header: header,\n      message: msg,\n      buttons: [{ text: 'Aceptar' }]\n    });\n    await alert.present();\n  }\n\n  emitirCambioCalificacion(event) {\n    this.onCalificacionChange.emit(event.detail.value);\n  }\n}\n","module.exports = \"<div *ngIf=\\\"loading == true\\\">\\n  <ion-spinner class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\n</div>\\n<div *ngIf=\\\"progCargada == false\\\">\\n  <p style=\\\"color:#888;padding:25px\\\">\\n    No fue posible cargar la programación de inspecciones.\\n    <a *ngIf=\\\"progCargada == false\\\" (click)=\\\"cargarProgramacion()\\\">Reintentar</a>\\n  </p>\\n</div>\\n\\n<ion-card *ngFor=\\\"let prog of programacionList\\\">\\n  <ion-item>\\n    <ion-label>{{prog.area.nombre}} </ion-label>\\n    <ion-button [color]=\\\"prog.numeroRealizadas == prog.numeroInspecciones ? 'secondary':'primary'\\\" [disabled]=\\\"prog.numeroRealizadas == prog.numeroInspecciones\\\"\\n      fill=\\\"outline\\\" slot=\\\"end\\\" (click)=\\\"onProgSelect(prog)\\\" *sTienePermiso=\\\"['SEC_GET_SISTNR', 'INP_GET_LISTINP']\\\">\\n      {{prog.numeroRealizadas == prog.numeroInspecciones ? 'Finalizado':'Realizar'}}\\n    </ion-button>\\n  </ion-item>\\n  <ion-card-header>\\n    <ion-card-title>{{prog.numeroRealizadas}}/{{prog.numeroInspecciones}} </ion-card-title>\\n    <ion-card-subtitle>{{prog.listaInspeccion.nombre}} <br/> {{prog.fecha | date:'dd/MM/yyyy'}}\\n    </ion-card-subtitle>\\n  </ion-card-header>\\n  <ion-card-content *ngIf=\\\"prog.offlineDone > 0\\\">\\n    <p>\\n      Pdte sincronizar:\\n      <ion-badge color=\\\"warning\\\">{{prog.offlineDone}}</ion-badge>\\n    </p>\\n  </ion-card-content>\\n</ion-card>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvaW5wL2NvbXBvbmVudHMvcHJvZ3JhbWFjaW9uLWluc3BlY2Npb25lcy9wcm9ncmFtYWNpb24taW5zcGVjY2lvbmVzLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n\nimport { Programacion } from '../../entities/programacion';\nimport { FilterQuery } from '../../../com/entities/filter-query'\nimport { OfflineService } from '../../../com/services/offline.service'\nimport { StorageService } from '../../../com/services/storage.service';\n\n@Component({\n  selector: 'sm-programacionInspecciones',\n  templateUrl: './programacion-inspecciones.component.html',\n  styleUrls: ['./programacion-inspecciones.component.scss']\n})\nexport class ProgramacionInspeccionesComponent implements OnInit {\n\n  @Output(\"onProgramacionSelect\") onProgramacionSelect = new EventEmitter<Programacion>();\n  programacionList: Programacion[];\n\n  loading: boolean;\n  progCargada: boolean;\n\n  constructor(\n    private storageService: StorageService,\n    private offlineService: OfflineService,\n  ) { }\n\n  ngOnInit() {\n    this.cargarProgramacion();\n  }\n\n  cargarProgramacion() {\n    this.loading = true;\n    this.progCargada = null;\n    this.offlineService.queryProgramacionList()\n      .then(resp => {\n        this.programacionList = [];\n        (<any[]>resp['data']).forEach(dto => {\n          this.programacionList.push(FilterQuery.dtoToObject(dto));\n        });\n        this.loading = false;\n        this.progCargada = true;\n      })\n      .catch(err => {\n        this.loading = false;\n        this.progCargada = false;\n      });\n  }\n\n  actualizarProgMetadata(id: string, aumentarRealizadas: boolean, aumentarOffline: boolean) {\n    let prog: Programacion;\n    for (let i = 0; i < this.programacionList.length; i++) {\n      if (id == this.programacionList[i].id) {\n        prog = this.programacionList[i];\n        break;\n      }\n    }\n    if (prog['offlineDone'] == null)\n      prog['offlineDone'] = 0;\n    prog.numeroRealizadas += aumentarRealizadas == null ? 0 : (aumentarRealizadas ? 1 : -1);\n    prog['offlineDone'] += aumentarOffline == null ? 0 : (aumentarOffline ? 1 : -1);\n    this.storageService.updateProgramacion(prog);\n  }\n\n  onProgSelect(prog: Programacion) {\n    this.onProgramacionSelect.emit(prog);\n  }\n\n}\n","\n\nimport { ElementoInspeccion } from './elemento-inspeccion'\nimport { OpcionCalificacion } from './opcion-calificacion'\nimport { NivelRiesgo } from '../../com/entities/nivel-riesgo';\nimport { Documento } from '../../ado/entities/documento'\nimport { TipoHallazgo } from './tipo-hallazgo';\n\nexport class Calificacion {\n    id: string;\n    recomendacion: string;\n    elementoInspeccion: ElementoInspeccion;\n    opcionCalificacion: OpcionCalificacion;\n    nivelRiesgo: NivelRiesgo;\n    tipoHallazgo:TipoHallazgo;\n    documentosList: Documento[];\n}","\nimport { Calificacion } from './calificacion'\nimport { TipoHallazgo } from './tipo-hallazgo'\n\nexport class ElementoInspeccion {\n    id: string;\n    codigo: string;\n    nombre: string;\n    descripcion: string;\n    elementoInspeccionPadre: ElementoInspeccion;\n    elementoInspeccionList: ElementoInspeccion[] = [];\n    calificable: boolean;\n    numero: number;\n    calificacion: Calificacion;\n    tipoHallazgoList: TipoHallazgo[];\n}","\nimport { Calificacion } from './calificacion'\nimport { Programacion } from './programacion'\nimport { Usuario } from '../../emp/entities/usuario';\nimport { RespuestaCampo } from '../../com/entities/respuesta-campo';\nimport { Empresa } from '../../emp/entities/empresa';\nimport { ListaInspeccion } from './lista-inspeccion';\nimport { Area } from '../../emp/entities/area';\n\nexport class Inspeccion {\n  id: string;\n  fechaRealizada: Date;\n  fechaModificacion: Date;\n  observacion: string;\n  lugar: string;\n  equipo: string;\n  marca: string;\n  modelo: string;\n  serial: string;\n  descripcion: string;\n  empresa: Empresa;\n  calificacionList: Calificacion[];\n  respuestasCampoList: RespuestaCampo[];\n  programacion: Programacion;\n  usuarioRegistra: Usuario;\n  usuarioModifica: Usuario;\n  listaInspeccion: ListaInspeccion;\n  area: Area;\n}\n","export class ListaInspeccionPK {\n    id: string;\n    version: number;\n}","\nimport { ListaInspeccionPK } from './lista-inspeccion-pk'\nimport { OpcionCalificacion } from './opcion-calificacion'\nimport { ElementoInspeccion } from './elemento-inspeccion'\nimport { Formulario } from '../../com/entities/formulario';\n\n\nexport class ListaInspeccion {\n  listaInspeccionPK: ListaInspeccionPK = new ListaInspeccionPK();\n  nombre: string;\n  codigo: string;\n  numeroPreguntas: number;\n  tipoLista: string;\n  descripcion: string;\n  elementoInspeccionList: ElementoInspeccion[];\n  opcionCalificacionList: OpcionCalificacion[] = [];\n  formulario: Formulario;\n  usarNivelRiesgo:boolean;\n  usarTipoHallazgo:boolean;\n}","\nexport class TipoHallazgo {\n    id: string;\n    nombre: string;\n    descripcion: number;\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ComunModule} from '../../../com/comun.module'\nimport { IonicModule } from '@ionic/angular';\nimport { ListaInspeccionService } from '../../services/lista-inspeccion.service';\n\nimport { ElaboracionInspeccionPage } from './elaboracion-inspeccion.page';\nimport { ProgramacionInspeccionesComponent } from '../../components/programacion-inspecciones/programacion-inspecciones.component';\nimport { InspeccionFormComponent } from '../../components/inspeccion-form/inspeccion-form.component'\nimport { PreguntaInspeccionComponent } from '../../components/pregunta-inspeccion/pregunta-inspeccion.component'\nimport { InspeccionesSyncComponent } from '../../components/inspecciones-sync/inspecciones-sync.component'\nimport { InspeccionNoProgramadaComponent } from '../../components/inspeccion-no-programada/inspeccion-no-programada.component';\nimport { AreaSelectorModule } from '../../../com/components/area-selector/area-selector.component';\nimport { MenuListaComponent } from '../../components/menu-lista/menu-lista.component';\nimport { InspeccionPendienteComponent } from '../../components/inspeccion-pendiente/inspeccion-pendiente.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ElaboracionInspeccionPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComunModule,\n    RouterModule.forChild(routes),\n    AreaSelectorModule\n  ],\n  exports:[ComunModule],\n  providers: [ListaInspeccionService],\n  entryComponents: [InspeccionFormComponent, MenuListaComponent, InspeccionPendienteComponent],\n  declarations: [\n    ElaboracionInspeccionPage, \n    ProgramacionInspeccionesComponent, \n    InspeccionFormComponent,\n    PreguntaInspeccionComponent,\n    InspeccionesSyncComponent,\n    InspeccionNoProgramadaComponent,\n    MenuListaComponent,\n    InspeccionPendienteComponent\n  ]\n})\nexport class ElaboracionInspeccionPageModule {\n\n}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"navegar('/app/home')\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title (click)=\\\"cargarInspPendientes(true)\\\">\\n      Elaboracion inspeccion\\n      <ion-icon name=\\\"alert\\\"></ion-icon>\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content>\\n  <ion-segment (ionChange)=\\\"segmentChanged($event)\\\" value=\\\"listas\\\">\\n    <ion-segment-button value=\\\"listas\\\">\\n      <ion-label>Listas</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"prog\\\">\\n      <ion-label>Programación</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"insp\\\">\\n      <ion-label>\\n        Sincronizar\\n        <ion-badge *ngIf=\\\"inspCount > 0\\\" color=\\\"warning\\\">{{inspCount}}</ion-badge>\\n      </ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n\\n  <sm-inspeccionNoProgramada [style.display]=\\\"segments['listas'] ? 'block':'none'\\\" (onListaSelect)=\\\"abrirInspeccion(null, $event, null)\\\"></sm-inspeccionNoProgramada>\\n\\n  <sm-programacionInspecciones [style.display]=\\\"segments['prog'] ? 'block':'none'\\\" (onProgramacionSelect)=\\\"abrirInspeccion($event, null, null)\\\"\\n    #progInspComp></sm-programacionInspecciones>\\n\\n  <sm-inspeccionesSync [style.display]=\\\"segments['insp'] ? 'block':'none'\\\" (onEvent)=\\\"onEvent($event)\\\" #inspSyncComp></sm-inspeccionesSync>\\n\\n\\n\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvaW5wL3BhZ2VzL2VsYWJvcmFjaW9uLWluc3BlY2Npb24vZWxhYm9yYWNpb24taW5zcGVjY2lvbi5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { InspeccionFormComponent } from '../../components/inspeccion-form/inspeccion-form.component'\nimport { ModalController, PopoverController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { Programacion } from '../../entities/programacion';\nimport { Inspeccion } from '../../entities/inspeccion';\nimport { asyncLocalStorage } from '../../../com/utils/util';\nimport { InspeccionesSyncComponent } from '../../components/inspecciones-sync/inspecciones-sync.component';\nimport { ProgramacionInspeccionesComponent } from '../../components/programacion-inspecciones/programacion-inspecciones.component';\nimport { StorageService } from '../../../com/services/storage.service';\nimport { InspeccionPendienteComponent } from '../../components/inspeccion-pendiente/inspeccion-pendiente.component';\nimport { ListaInspeccion } from '../../entities/lista-inspeccion';\n\n@Component({\n  selector: 'sm-elaboracionInspeccion',\n  templateUrl: './elaboracion-inspeccion.page.html',\n  styleUrls: ['./elaboracion-inspeccion.page.scss'],\n})\nexport class ElaboracionInspeccionPage implements OnInit {\n\n  @ViewChild('inspSyncComp') inspSyncComp: InspeccionesSyncComponent;\n  @ViewChild('progInspComp') progInspComp: ProgramacionInspeccionesComponent;\n\n  segments = { 'listas': true, 'prog': false, 'insp': false };\n  inspCount = 0;\n\n  constructor(\n    public popoverController: PopoverController,\n    public storageService: StorageService,\n    public modalController: ModalController,\n    private router: Router,\n  ) { }\n\n  ngOnInit() {\n    this.cargarInspPendientes();\n  }\n\n  cargarInspPendientes(desdeBoton?: boolean) {\n    this.storageService.getInspeccionesPendientes()\n      .then(resp => {\n        let inspPend = resp.data;\n        if (inspPend.length > 0 || desdeBoton == true) {\n          this.abrirInspPendientes(inspPend);\n        }\n      });\n  }\n\n  async abrirInspPendientes(inspecciones: Inspeccion[]) {\n    const popOver = await this.popoverController.create({\n      component: InspeccionPendienteComponent,\n      componentProps: { 'inspecciones': inspecciones }\n    });\n    popOver.onDidDismiss()\n      .then(resp => {\n        let insp: Inspeccion = resp.data;\n        if (insp) {\n          this.abrirInspeccion(null, null, insp);\n        }\n      });\n    return await popOver.present();\n  }\n\n\n  async abrirInspeccion(programacion: Programacion, listaInspeccion: ListaInspeccion, inspeccion: Inspeccion) {\n    const modal = await this.modalController.create({\n      component: InspeccionFormComponent,\n      componentProps: {\n        'programacion': programacion,\n        'listaInspeccion': listaInspeccion,\n        'inspeccion': inspeccion\n      },\n      cssClass: \"modal-fullscreen\"\n    });\n    modal.onDidDismiss()\n      .then(resp => {\n        this.onModalDismiss(resp['data'], programacion != null ? programacion : null);\n      });\n    return await modal.present();\n  }\n\n  onModalDismiss(inspeccion: Inspeccion, prog: Programacion) {\n    if (inspeccion != null && inspeccion.id == null) {\n      this.inspSyncComp.adicionarInspeccion(inspeccion);\n      this.inspCount += 1;\n      if (prog != null)\n        this.progInspComp.actualizarProgMetadata(prog.id, null, true);\n    } else if (inspeccion != null && prog != null) {\n      prog.numeroRealizadas += 1;\n    }\n  }\n\n  onEvent(event) {\n    switch (event.type) {\n      case 'onSync':\n        // si event.inspeccion.programacion  == null indica que es una programacion no programada\n        if (event.inspeccion.programacion != null)\n          this.progInspComp.actualizarProgMetadata(event.inspeccion.programacion.id, true, false);\n        break;\n      case 'onLocalRemove':\n        // si event.inspeccion.programacion  == null indica que es una programacion no programada\n        if (event.inspeccion.programacion != null)\n          this.progInspComp.actualizarProgMetadata(event.inspeccion.programacion.id, null, false);\n        break;\n    }\n    this.inspCount = event.count;\n  }\n\n  navegar(url) {\n    this.router.navigate([url])\n  }\n\n  segmentChanged(event) {\n    for (var seg in this.segments) {\n      this.segments[seg] = false;\n      if (event.detail.value == seg)\n        this.segments[seg] = true;\n\n    }\n  }\n\n  /* *********************** inspecciones no programadas ******************************** */\n\n\n}\n"],"sourceRoot":""}